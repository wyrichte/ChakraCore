<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <PlatformToolset Condition="'$(VisualStudioVersion)'=='11.0'">v110</PlatformToolset>
    <PlatformToolset Condition="'$(VisualStudioVersion)'=='12.0'">v120</PlatformToolset>
    <PlatformToolset Condition="'$(VisualStudioVersion)'=='14.0'">v140</PlatformToolset>
  </PropertyGroup>
  <PropertyGroup>
    <!-- ========= Microsoft.Build.Paths ========= -->
    <SdkIncPath>$(PUBLIC_ROOT)\sdk\inc</SdkIncPath>
    <SdkLibPath>$(PUBLIC_ROOT)\sdk\lib\$(PlatformPathNameAlt)</SdkLibPath>
    <CrtIncPath>$(SdkIncPath)\crt</CrtIncPath>
    <MinCoreSdkLibPath>$(PUBLIC_ROOT)\sdk\lib\mincore\$(PlatformPathNameAlt)</MinCoreSdkLibPath>
    <OneCoreSdkLibPath>$(PUBLIC_ROOT)\sdk\lib\onecore\$(PlatformPathNameAlt)</OneCoreSdkLibPath>

    <PublicInternalPath>$(PUBLIC_ROOT)\internal</PublicInternalPath>
    <InternalSdkIncPath>$(PublicInternalPath)\sdk\inc</InternalSdkIncPath>
    <InternalSdkLibPath>$(PublicInternalPath)\sdk\lib\$(PlatformPathNameAlt)</InternalSdkLibPath>
    <ComIncPath>$(PublicInternalPath)\com\inc</ComIncPath>
    <MinWinPrivSdkIncPath>$(PublicInternalPath)\minwin\priv_sdk\inc</MinWinPrivSdkIncPath>
    <MinWinPrivSdkLibPath>$(PublicInternalPath)\minwin\priv_sdk\lib\$(PlatformPathNameAlt)</MinWinPrivSdkLibPath>
    <MinCorePrivSdkLibPath>$(PublicInternalPath)\mincore\priv_sdk\lib\$(PlatformPathNameAlt)</MinCorePrivSdkLibPath>
    <SdkToolsIncPath>$(PublicInternalPath)\sdktools\inc</SdkToolsIncPath>
  </PropertyGroup>
  <!-- Output directories -->
  <PropertyGroup>
    <OutBaseDir Condition="'$(OutBaseDir)'==''">$(SolutionDir)VcBuild</OutBaseDir>
    <OutDir>$(OutBaseDir)\Binaries\win-$(PlatformPathName)$(Configuration)\</OutDir>
    <IntDir>$(OutBaseDir)\Obj\win-$(PlatformPathName)$(Configuration)\$(MSBuildProjectName)\</IntDir>
    <OutputPath>$(OutDir)</OutputPath>
  </PropertyGroup>
  <PropertyGroup>
    <RazzleConfigurationPath Condition="'$(Configuration)'=='fretest'">fre</RazzleConfigurationPath>
    <RazzleConfigurationPath Condition="'$(Configuration)'!='fretest'">$(Configuration)</RazzleConfigurationPath>
    <PUBLIC_ROOT Condition="'$(PUBLIC_ROOT)'==''">$(SolutionDir)..\..\..\sdpublic</PUBLIC_ROOT>
    <OBJECT_ROOT Condition="'$(USE_EXTERNAL_DEPENDENCIES)'=='yes' AND '$(_OBJECT_ROOT_PREFIX)'==''">$(BASEDIR).obj.$(PlatformPathName)$(RazzleConfigurationPath)</OBJECT_ROOT>
    <OBJECT_ROOT Condition="'$(USE_EXTERNAL_DEPENDENCIES)'=='yes' AND '$(_OBJECT_ROOT_PREFIX)'!=''">$(_OBJECT_ROOT_PREFIX).$(PlatformPathName)$(RazzleConfigurationPath)</OBJECT_ROOT>
    
    <RazzleToolPath Condition="'$(RazzleToolPath)'==''">$(SolutionDir)..\..\..\tools</RazzleToolPath>
    <IncludePath>$(PUBLIC_ROOT)\shared\inc</IncludePath>
    <IncludePath>$(IncludePath);$(PUBLIC_ROOT)\shared\inc\minwin</IncludePath>
    <IncludePath>$(IncludePath);$(SdkIncPath)</IncludePath>    
    <IncludePath>$(IncludePath);$(SdkIncPath)\minwin</IncludePath>
    <IncludePath>$(IncludePath);$(SdkIncPath)\mincore</IncludePath>
    <IncludePath>$(IncludePath);$(SolutionDir)..\..\inc</IncludePath>
    
    
    <ExecutablePath>$(RazzleToolPath)\Dev12\x32\$(PlatformPathName);$(RazzleToolPath)\x86;$(RazzleToolPath)\perl\bin;d:\win\ie\tool</ExecutablePath>
    
    <GenerateManifest>false</GenerateManifest>
    <!-- disable incremental build because some library from public contains /GL objects -->
    <LinkIncremental>false</LinkIncremental>
    <!-- Minimal Rebuild /Gm write to this file that we don't really depend on -->
    <NoDependencies>%(NoDependencies);$(IntDir)vc100.idb;$(IntDir)vc100.pdb;$(IntDir)vc110.idb;$(IntDir)vc110.pdb;$(IntDir)vc120.pdb;$(IntDir)vc120.idb</NoDependencies>
    <ManifestsInboxIncludeDirectory>$(IntDir)..\manifests-inbox</ManifestsInboxIncludeDirectory>
    <ChakraManifestsIncludeDirectory>$(IntDir)..\manifests</ChakraManifestsIncludeDirectory>
    <ChakraParserIntDir>$(IntDir)..\Chakra.Parser</ChakraParserIntDir>
    <JscriptInfoIntDir>$(IntDir)..\Chakra</JscriptInfoIntDir>

    <ChakraCommonMemoryLib>$(OutDir)Chakra.Common.Memory.lib</ChakraCommonMemoryLib>

    <!-- ======== From Microsoft.Build.settings ======== -->
    <NtTargetVersion_Win7 >0x601</NtTargetVersion_Win7>
    <NtTargetVersion_Win8 >0x602</NtTargetVersion_Win8>
    <NtTargetVersion_Win10>0xA00</NtTargetVersion_Win10>

    <!-- ========= From makefile.def ========= -->
    <LinkerAppVersion Condition="'$(LinkerAppVersion)' == ''">10.0</LinkerAppVersion>
    <LinkerOSVersion Condition="'$(LinkerOSVersion)' == ''">10.0</LinkerOSVersion>  
  </PropertyGroup>

</Project>