<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <BuildingGitRepo>false</BuildingGitRepo>
    <BuildingGitRepo Condition="'$(REPO_ROOT)'!=''">true</BuildingGitRepo>
  </PropertyGroup>
  <Import Condition="'$(BuildingWithBuildExe)'=='true'" Project="Chakra.Build.Razzle.Default.props" />

  <PropertyGroup>
    <!-- In razzle, Platform is inferred from environment variable _BuildArch, so import Chakra.Build.Razzle.Default.props first -->
    <PlatformPathName>$(Platform)</PlatformPathName>
    <PlatformPathName Condition="'$(Platform)'=='Win32'">x86</PlatformPathName>
    <PlatformPathName Condition="'$(Platform)'=='x64'">amd64</PlatformPathName>
    <PlatformPathNameAlt>$(PlatformPathName)</PlatformPathNameAlt>
    <PlatformPathNameAlt Condition="'$(Platform)'=='Win32'">i386</PlatformPathNameAlt>
  </PropertyGroup>

  <Import Condition="'$(BuildingGitRepo)'=='true'" Project="Chakra.Build.Git.Default.props" />

  <!-- This needs to be after Chakra.Build.Razzle.Default.props, which sets the Configuration -->
  <Import Project="$(ChakraCoreBuildDirectory)Common.Build.Default.props" />
 
  <Import Condition="'$(BuildingWithBuildExe)'!='true'" Project="Chakra.Build.Solution.Default.props" />

  <PropertyGroup>
    <NtTargetVersion>$(NtTargetVersion_Win7)</NtTargetVersion>

    <!-- On ARM we depend on API that was added in Win8 timeframe, specifically GetCurrentThreadLimits.
         Note that for ARM we don't need to support running on Win7, so it's fine to require Win8 as minimum,
         but for x86/amd64 we may need to ship IE10 for Win7, thus it's not OK in general to require Win8 as minimum. -->
    <NtTargetVersion Condition="'$(Platform)'=='ARM' or '$(Platform)'=='Arm64'">$(NtTargetVersion_Win8)</NtTargetVersion>

    <WindowsSDKDesktopARMSupport Condition="'$(Platform)'=='ARM'">true</WindowsSDKDesktopARMSupport>
  </PropertyGroup>
</Project>
