<!--
Copyright (C) Microsoft. All rights reserved.
-->

<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <!-- Page Styles -->
    <link rel="stylesheet" type="text/css" href="client/css/client.css" />

    <!-- Monaco Styles -->
    <link rel="stylesheet" type="text/css" media="screen" href="../debugger/editor/vs/editor/css/vs-theme.css" />

    <!-- IRViewer Styles -->
    <link rel="stylesheet" type="text/css" href="css/custom.css" />
    <link rel="stylesheet" type="text/css" href="libraries/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="libraries/bootstrap/css/bootstrap-responsive.min.css" />

    <!-- libraries -->
    <script src="libraries/jquery/jquery.min.js" type="text/javascript"></script>
    <script src="libraries/lodash/lodash.min.js" type="text/javascript"></script>

    <!-- helpers -->
    <script src="js/helpers.js" type="text/javascript"></script>

    <!-- F12 communication layer -->
    <script type="text/javascript" src="data.js"></script>
    <script type="text/javascript" src="comm.js"></script>
    <script type="text/javascript" src="header.js"></script>
    <script type="text/javascript">
      document.addEventListener("DOMContentLoaded", irviewerMain);
    </script>

    <!-- IR Viewer Core -->
    <script src="js/output.js" type="text/javascript"></script>
    <script src="js/ir-opnd.js" type="text/javascript"></script>
    <script src="js/ir-inst.js" type="text/javascript"></script>
    <script src="js/irviewer.js" type="text/javascript"></script>
    <script src="js/html-output.js" type="text/javascript"></script>

    <script src="js/dynamic-selection.js" type="text/javascript"></script>
    <script src="js/dynamic.js" type="text/javascript"></script>
    <script src="js/fnlist.js" type="text/javascript"></script>

    <script src="js/display.js" type="text/javascript"></script>
    <script src="js/display-f12.js" type="text/javascript"></script>

    <!-- initialize interactive elements -->
    <script type="text/javascript">
      $(document).ready(function() {
        AttachClickEvents();

        InitializeFunctionListForm();
        PopulateFunctionListForm();

        $(window).resize(function() {
          RefreshEditorLayout();
        });
      });
    </script>

  </head>
  <body>

<div class="content">
  <div class="container">

    <h1 align="center">F12 IR Viewer <span class="muted">v1.0.0</span></h1>

    <form class="form-horizontal">
    <fieldset>

      <div class="row">
        <div class="span6">
          <select class="input-block-level" id="select-file-name">
            <!-- populated by script -->
          </select>
        </div>
        <div class="span6">
          <select class="input-block-level" id="select-function-name">
            <!-- populated by script -->
          </select>
        </div>
      </div>

    </fieldset>
    </form>

    <div id="editorWrapper">
      <div id="editor"></div>
      <!-- include monaco initializer script -->
      <script type="text/javascript" src="../debugger/editor/vs/loader.js"></script>
    </div>

    <form class="form-horizontal" method="post">
    <fieldset>
      <!-- highlight debugging controls -->
      <div class="control-group">
        <label class="control-label" for="input-script">Highlight</label>
        <div class="controls">
          <a href="javascript:void(0)" onclick="Highlight('ir-label');" class="btn btn-primary">Labels</a>
          <a href="javascript:void(0)" onclick="Highlight('ir-sym');" class="btn btn-primary">Symbols</a>
          <a href="javascript:void(0)" onclick="Highlight('ir-reg');" class="btn btn-primary">Reg Symbols</a>
          <a href="javascript:void(0)" onclick="HighlightAll();" class="btn btn-info">All</a>
          <a href="javascript:void(0)" onclick="RemoveHighlights();" class="btn">Clear</a>
        </div>
      </div>

      <!-- folding debugging controls -->
      <div class="control-group">
        <label class="control-label" for="input-script">Folding</label>
        <div class="controls">
          <a href="javascript:void(0)" onclick="FoldAll();" class="btn btn-primary">Fold All</a>
          <a href="javascript:void(0)" onclick="UnfoldAll();" class="btn btn-primary">Unfold All</a>
        </div>
      </div>

      <!-- configuration controls -->
      <!-- configuration options to be added later -->
      <!--
      <hr />
      <div class="control-group">
        <label class="control-label" for="checkboxes">Configuration</label>
        <div class="controls">
          <label class="checkbox" for="checkboxes-0">
            <input type="checkbox" class="configuration-checkbox" id="checkboxes-0" value="statement-hover" checked />
            Highlight hovered statement blocks
          </label>
        </div>
      </div>
      -->

      <!-- content tabs -->
      <div class="tabbable tabs-top">
        <ul class="nav nav-tabs">
          <li><a href="#output-tab" data-toggle="tab">[Console Output]</a></li>
          <li class="active"><a href="#irbuilder" data-toggle="tab">IRBuilder</a></li>
          <li><a href="#globopt" data-toggle="tab">GlobOpt</a></li>
          <li><a href="#lowerer" data-toggle="tab">Lowerer</a></li>
          <li><a href="#regalloc" data-toggle="tab">RegAlloc</a></li>
          <li><a href="#encoder" data-toggle="tab">Encoder</a></li>
        </ul>

        <div class="tab-content">
          <div class="tab-pane active" id="irbuilder">
            <div class="ir-dump" id="irbuilder-dump"></div>
            <div class="ir-dump-text"><pre class="muted" id="irbuilder-dump-text"></pre></div>
          </div>

          <div class="tab-pane" id="globopt">
            <div class="ir-dump" id="globopt-dump"></div>
            <div class="ir-dump-text"><pre class="muted" id="globopt-dump-text"></pre></div>
          </div>

          <div class="tab-pane" id="lowerer">
            <div class="ir-dump" id="lowerer-dump"></div>
            <div class="ir-dump-text"><pre class="muted" id="lowerer-dump-text"></pre></div>
          </div>

          <div class="tab-pane" id="regalloc">
            <div class="ir-dump" id="regalloc-dump"></div>
            <div class="ir-dump-text"><pre class="muted" id="regalloc-dump-text"></pre></div>
          </div>

          <div class="tab-pane" id="encoder">
            <div class="ir-dump" id="encoder-dump"></div>
            <div class="ir-dump-text"><pre class="muted" id="encoder-dump-text"></pre></div>
          </div>

          <div class="tab-pane" id="output-tab">
            <div id="output">
              <fieldset>
                <legend>Result:</legend>
                  <pre id="resultOutput">
                    <!-- populated by script -->
                  </pre>
              </fieldset>
              <fieldset>
                <legend>Error:</legend>
                  <div id="resultError">
                    <!-- populated by script -->
                  </div>
              </fieldset>
            </div>
          </div>
        </div>
      </div>

    </fieldset>
    </form>

  </div>
</div>

    <!-- Monaco Script Includes -->
    <script src="../debugger/editor/vs/editorDefinitions.js" type="text/javascript"></script>
    <script src="client/js/client.js" type="text/javascript"></script>

    <!-- Bootstrap Dynamic Page Includes -->
    <script src="libraries/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
  </body>
</html>
