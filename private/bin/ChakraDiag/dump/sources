USE_NOTHROW_NEW=1 
#
# This assembly is for debugger to read WER js stack dump streams.
#
TARGETNAME = jscript9diagdump
TARGETTYPE = DYNLINK

!include ..\sources_common.inc

# Account for building ATL with _DEBUG defined
ATL_LIBS = $(SDK_LIB_PATH)\atl.lib
!if !$(FREEBUILD)
ATL_LIBS = $(SDK_LIB_PATH)\atlsd.lib $(ATL_LIBS)
!else
ATL_LIBS = $(SDK_LIB_PATH)\atls.lib $(ATL_LIBS)
!endif

DLLDEF = $(OBJ_PATH)\$(O)\JScript9diagdump.def
RESOURCE_FILE = jscript9diagdump.rc

TARGETLIBS = \
    $(SDK_LIB_PATH)\kernel32.lib \
    $(SDK_LIB_PATH)\advapi32.lib \
    $(SDK_LIB_PATH)\ole32.lib \
    $(SDK_LIB_PATH)\oleaut32.lib \
    $(SDK_LIB_PATH)\user32.lib \
    $(SDK_LIB_PATH)\uuid.lib \
    $(ATL_LIBS) \

SOURCES = \
    debugger.kml  \
    $(RESOURCE_FILE) \
    ..\Serializer.cpp \
    ..\ScriptDump.cpp \
    ..\ScriptDumpReader.cpp \
    ..\thrownew.cpp \
    dumpdll.cpp \

PRECOMPILED_INCLUDE=stdafx.h
PRECOMPILED_SOURCEFILE=stdafx.cpp
PRECOMPILED_CXX=1

#
# Must be signed for debugger package
#

PASS2_BINPLACE = -:DEST dbg\files\bin\winext $(OBJ_PATH)\$(O)\jscript9diagdump.dll


KIT_SELF_SIGNED=1

MUI_VERIFY_NO_LOC_RESOURCE=1 

