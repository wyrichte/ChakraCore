!include $(PROJECT_ROOT)\platform.inc

TEST_CODE=1

TARGETNAME=DynamicProfileMutatorImpl
TARGETTYPE=DYNLINK

# Turns on fretest for mutator
!include $(JSCRIPT_ROOT)\jslibtest.inc

INCLUDES= \
   $(INCLUDES) \
   $(COREINCLUDES); \

SOURCES= \
    DynamicProfileMutatorImpl.cpp

LINKLIBS= \
    $(OBJECT_INETCORE_DIR)\jscript\core\lib\common\codex\$(O)\Chakra.Common.Codex.lib \
    $(PROJECT_LIB_PATH)\iertutilp.lib \
    $(PROJECT_LIB_PATH)\EdgeSettingsId.lib \
    $(PROJECT_LIB_PATH)\EdgeSettingsApi.lib \
    $(JS_LINK_LIBS) \

TARGETLIBS=     \
!IF (!$(FREEBUILD) || defined(FRETEST) || defined(NTTESTENV)) && "$(TARGET_DIRECTORY)" != "arm" && "$(TARGET_DIRECTORY)" != "arm64"
    ..\..\tools\external\lib\$(TARGET_DIRECTORY)\jitprofiling.lib \
!ENDIF
    $(SHELL_LIB_PATH)\CommonUtilityLibrary.lib       \
    $(SDK_LIB_PATH)\muiload.lib \
    $(SDK_LIB_PATH)\oleaut32.lib \
    $(SDK_LIB_PATH)\onecore_downlevel.lib \
    $(INTERNAL_SDK_LIB_PATH)\onecoreuapuuid.lib \
    $(SDK_LIB_PATH)\psapi.lib \
     \
    $(SDK_LIB_PATH)\onecore_downlevel.lib \
    $(SDK_LIB_PATH)\onecore_downlevel.lib \
     \
!if !$(FREEBUILD)
    $(SDK_LIB_PATH)\dbghelp.lib \
     \
!endif

