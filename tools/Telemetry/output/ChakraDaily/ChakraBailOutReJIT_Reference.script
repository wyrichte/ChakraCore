//Script GUID:1dcb43b3-d3a6-4c5f-8d0d-dd1f0055977a
//Used for tracking history

/*
 * This script handles some basic aggregation for the ESBuiltins telemetry. As it's
 * undesirable to take up a huge amount of data storage very long-term, and because
 * Kusto has significantly tighter constraints on data ingestion, storage, and then
 * processing volume, this is the data that we persist the longest and which we set
 * as what we'd like to have available in Kusto for quick analysis and easy access.
 */

// hook up to the asimov date inputs, so that back runs work properly
#DECLARE startDate DateTime = IF("@@startDate@@".StartsWith("@@"), DateTime.UtcNow, DateTime.Parse("@@startDate@@"));
#DECLARE streamDate DateTime = @startDate.AddDays(-1);

// The pivoted input file
#IF(LOCAL)
    #DECLARE inputFileName string = @"c:\temp\ESBuiltinsData_Pivoted.ss";
#ELSE
    #DECLARE inputFileName string = string.Format( @"/shares/asimov.prod.data/PublicPartner/Processed/ChakraJavaScript/{0}/{1:yyyy}/{1:MM}/{0}_{1:yyyy}_{1:MM}_{1:dd}.ss", "ChakraBailOutReJIT_Pivoted" , @streamDate );
#ENDIF

// The machine config information file
#IF(LOCAL)
    #DECLARE machineConfigFileName string = @"c:\temp\ESBuiltinsData_Pivoted.ss";
#ELSE
    #DECLARE machineConfigFileName string = string.Format( @"/shares/asimov.prod.data/PublicPartner/Processed/ChakraJavaScript/{0}/{1:yyyy}/{1:MM}/{0}_{1:yyyy}_{1:MM}_{1:dd}.ss", "DeviceIdToMachineId2" , @streamDate );
#ENDIF

// The post-aggregation output file
#IF(LOCAL)
    #DECLARE outputFileName string = @"c:\temp\ESBuiltinsData_Aggregated.ss";
#ELSE
    #DECLARE outputFileName string = string.Format( @"/shares/asimov.prod.data/PublicPartner/Processed/ChakraJavaScript/{0}/{1:yyyy}/{1:MM}/{0}_{1:yyyy}_{1:MM}_{1:dd}.ss", "ChakraBailOutReJIT_Referenced" , @streamDate );
#ENDIF


// Grab the already-pivoted data from the previous stage's output file.
inputData = 
    SELECT
        *
    FROM ( SSTREAM @inputFileName );

configMap =
    SELECT
        *
    FROM ( SSTREAM @machineConfigFileName );


/*
 * Now we cross-reference with the machine info to get the architecture of each line.
 */
ReferencedData =
    SELECT
            inputData.Domain,
            inputData.ApplicationName,
            inputData.ActivityId,
            inputData.rejit_None_present,
            inputData.rejit_None_count,
            inputData.rejit_None_count_cap,
            inputData.rejit_Forced_present,
            inputData.rejit_Forced_count,
            inputData.rejit_Forced_count_cap,
            inputData.rejit_RuntimeStatsEnabled_present,
            inputData.rejit_RuntimeStatsEnabled_count,
            inputData.rejit_RuntimeStatsEnabled_count_cap,
            inputData.rejit_AggressiveIntTypeSpecDisabled_present,
            inputData.rejit_AggressiveIntTypeSpecDisabled_count,
            inputData.rejit_AggressiveIntTypeSpecDisabled_count_cap,
            inputData.rejit_AggressiveMulIntTypeSpecDisabled_present,
            inputData.rejit_AggressiveMulIntTypeSpecDisabled_count,
            inputData.rejit_AggressiveMulIntTypeSpecDisabled_count_cap,
            inputData.rejit_DivIntTypeSpecDisabled_present,
            inputData.rejit_DivIntTypeSpecDisabled_count,
            inputData.rejit_DivIntTypeSpecDisabled_count_cap,
            inputData.rejit_TrackIntOverflowDisabled_present,
            inputData.rejit_TrackIntOverflowDisabled_count,
            inputData.rejit_TrackIntOverflowDisabled_count_cap,
            inputData.rejit_FloatTypeSpecDisabled_present,
            inputData.rejit_FloatTypeSpecDisabled_count,
            inputData.rejit_FloatTypeSpecDisabled_count_cap,
            inputData.rejit_ImplicitCallFlagsChanged_present,
            inputData.rejit_ImplicitCallFlagsChanged_count,
            inputData.rejit_ImplicitCallFlagsChanged_count_cap,
            inputData.rejit_FailedPolymorphicInlineeTypeCheck_present,
            inputData.rejit_FailedPolymorphicInlineeTypeCheck_count,
            inputData.rejit_FailedPolymorphicInlineeTypeCheck_count_cap,
            inputData.rejit_InlineeChanged_present,
            inputData.rejit_InlineeChanged_count,
            inputData.rejit_InlineeChanged_count_cap,
            inputData.rejit_CheckThisDisabled_present,
            inputData.rejit_CheckThisDisabled_count,
            inputData.rejit_CheckThisDisabled_count_cap,
            inputData.rejit_LossyIntTypeSpecDisabled_present,
            inputData.rejit_LossyIntTypeSpecDisabled_count,
            inputData.rejit_LossyIntTypeSpecDisabled_count_cap,
            inputData.rejit_MemOpDisabled_present,
            inputData.rejit_MemOpDisabled_count,
            inputData.rejit_MemOpDisabled_count_cap,
            inputData.rejit_FailedTypeCheck_present,
            inputData.rejit_FailedTypeCheck_count,
            inputData.rejit_FailedTypeCheck_count_cap,
            inputData.rejit_FailedFixedFieldTypeCheck_present,
            inputData.rejit_FailedFixedFieldTypeCheck_count,
            inputData.rejit_FailedFixedFieldTypeCheck_count_cap,
            inputData.rejit_FailedFixedFieldCheck_present,
            inputData.rejit_FailedFixedFieldCheck_count,
            inputData.rejit_FailedFixedFieldCheck_count_cap,
            inputData.rejit_FailedEquivalentTypeCheck_present,
            inputData.rejit_FailedEquivalentTypeCheck_count,
            inputData.rejit_FailedEquivalentTypeCheck_count_cap,
            inputData.rejit_FailedEquivalentFixedFieldTypeCheck_present,
            inputData.rejit_FailedEquivalentFixedFieldTypeCheck_count,
            inputData.rejit_FailedEquivalentFixedFieldTypeCheck_count_cap,
            inputData.rejit_CtorGuardInvalidated_present,
            inputData.rejit_CtorGuardInvalidated_count,
            inputData.rejit_CtorGuardInvalidated_count_cap,
            inputData.rejit_ArrayCheckHoistDisabled_present,
            inputData.rejit_ArrayCheckHoistDisabled_count,
            inputData.rejit_ArrayCheckHoistDisabled_count_cap,
            inputData.rejit_ArrayMissingValueCheckHoistDisabled_present,
            inputData.rejit_ArrayMissingValueCheckHoistDisabled_count,
            inputData.rejit_ArrayMissingValueCheckHoistDisabled_count_cap,
            inputData.rejit_ArrayAccessHelperCallEliminationDisabled_present,
            inputData.rejit_ArrayAccessHelperCallEliminationDisabled_count,
            inputData.rejit_ArrayAccessHelperCallEliminationDisabled_count_cap,
            inputData.rejit_ExpectingNativeArray_present,
            inputData.rejit_ExpectingNativeArray_count,
            inputData.rejit_ExpectingNativeArray_count_cap,
            inputData.rejit_ConvertedNativeArray_present,
            inputData.rejit_ConvertedNativeArray_count,
            inputData.rejit_ConvertedNativeArray_count_cap,
            inputData.rejit_ArrayAccessNeededHelperCall_present,
            inputData.rejit_ArrayAccessNeededHelperCall_count,
            inputData.rejit_ArrayAccessNeededHelperCall_count_cap,
            inputData.rejit_JsArraySegmentHoistDisabled_present,
            inputData.rejit_JsArraySegmentHoistDisabled_count,
            inputData.rejit_JsArraySegmentHoistDisabled_count_cap,
            inputData.rejit_TypedArrayTypeSpecDisabled_present,
            inputData.rejit_TypedArrayTypeSpecDisabled_count,
            inputData.rejit_TypedArrayTypeSpecDisabled_count_cap,
            inputData.rejit_ExpectingConventionalNativeArrayAccess_present,
            inputData.rejit_ExpectingConventionalNativeArrayAccess_count,
            inputData.rejit_ExpectingConventionalNativeArrayAccess_count_cap,
            inputData.rejit_LdLenIntSpecDisabled_present,
            inputData.rejit_LdLenIntSpecDisabled_count,
            inputData.rejit_LdLenIntSpecDisabled_count_cap,
            inputData.rejit_FailedTagCheck_present,
            inputData.rejit_FailedTagCheck_count,
            inputData.rejit_FailedTagCheck_count_cap,
            inputData.rejit_BoundCheckHoistDisabled_present,
            inputData.rejit_BoundCheckHoistDisabled_count,
            inputData.rejit_BoundCheckHoistDisabled_count_cap,
            inputData.rejit_LoopCountBasedBoundCheckHoistDisabled_present,
            inputData.rejit_LoopCountBasedBoundCheckHoistDisabled_count,
            inputData.rejit_LoopCountBasedBoundCheckHoistDisabled_count_cap,
            inputData.rejit_AfterLoopBodyRejit_present,
            inputData.rejit_AfterLoopBodyRejit_count,
            inputData.rejit_AfterLoopBodyRejit_count_cap,
            inputData.rejit_DisableSwitchOptExpectingInteger_present,
            inputData.rejit_DisableSwitchOptExpectingInteger_count,
            inputData.rejit_DisableSwitchOptExpectingInteger_count_cap,
            inputData.rejit_DisableSwitchOptExpectingString_present,
            inputData.rejit_DisableSwitchOptExpectingString_count,
            inputData.rejit_DisableSwitchOptExpectingString_count_cap,
            inputData.rejit_InlineApplyDisabled_present,
            inputData.rejit_InlineApplyDisabled_count,
            inputData.rejit_InlineApplyDisabled_count_cap,
            inputData.rejit_InlineSpreadDisabled_present,
            inputData.rejit_InlineSpreadDisabled_count,
            inputData.rejit_InlineSpreadDisabled_count_cap,
            inputData.rejit_FloorInliningDisabled_present,
            inputData.rejit_FloorInliningDisabled_count,
            inputData.rejit_FloorInliningDisabled_count_cap,
            inputData.rejit_ModByPowerOf2_present,
            inputData.rejit_ModByPowerOf2_count,
            inputData.rejit_ModByPowerOf2_count_cap,
            inputData.rejit_NoProfile_present,
            inputData.rejit_NoProfile_count,
            inputData.rejit_NoProfile_count_cap,
            inputData.rejit_PowIntIntTypeSpecDisabled_present,
            inputData.rejit_PowIntIntTypeSpecDisabled_count,
            inputData.rejit_PowIntIntTypeSpecDisabled_count_cap,
            inputData.rejit_DisableStackArgOpt_present,
            inputData.rejit_DisableStackArgOpt_count,
            inputData.rejit_DisableStackArgOpt_count_cap,
            inputData.rejit_OptimizeTryFinallyDisabled_present,
            inputData.rejit_OptimizeTryFinallyDisabled_count,
            inputData.rejit_OptimizeTryFinallyDisabled_count_cap,
            inputData.bailout_BailOutInvalid_present,
            inputData.bailout_BailOutInvalid_count,
            inputData.bailout_BailOutInvalid_count_cap,
            inputData.bailout_BailOutIntOnly_present,
            inputData.bailout_BailOutIntOnly_count,
            inputData.bailout_BailOutIntOnly_count_cap,
            inputData.bailout_BailOutNumberOnly_present,
            inputData.bailout_BailOutNumberOnly_count,
            inputData.bailout_BailOutNumberOnly_count_cap,
            inputData.bailout_BailOutPrimitiveButString_present,
            inputData.bailout_BailOutPrimitiveButString_count,
            inputData.bailout_BailOutPrimitiveButString_count_cap,
            inputData.bailout_BailOutOnImplicitCalls_present,
            inputData.bailout_BailOutOnImplicitCalls_count,
            inputData.bailout_BailOutOnImplicitCalls_count_cap,
            inputData.bailout_BailOutOnImplicitCallsPreOp_present,
            inputData.bailout_BailOutOnImplicitCallsPreOp_count,
            inputData.bailout_BailOutOnImplicitCallsPreOp_count_cap,
            inputData.bailout_BailOutOnNotPrimitive_present,
            inputData.bailout_BailOutOnNotPrimitive_count,
            inputData.bailout_BailOutOnNotPrimitive_count_cap,
            inputData.bailout_BailOutOnMemOpError_present,
            inputData.bailout_BailOutOnMemOpError_count,
            inputData.bailout_BailOutOnMemOpError_count_cap,
            inputData.bailout_BailOutOnInlineFunction_present,
            inputData.bailout_BailOutOnInlineFunction_count,
            inputData.bailout_BailOutOnInlineFunction_count_cap,
            inputData.bailout_BailOutOnNoProfile_present,
            inputData.bailout_BailOutOnNoProfile_count,
            inputData.bailout_BailOutOnNoProfile_count_cap,
            inputData.bailout_BailOutOnPolymorphicInlineFunction_present,
            inputData.bailout_BailOutOnPolymorphicInlineFunction_count,
            inputData.bailout_BailOutOnPolymorphicInlineFunction_count_cap,
            inputData.bailout_BailOutOnFailedPolymorphicInlineTypeCheck_present,
            inputData.bailout_BailOutOnFailedPolymorphicInlineTypeCheck_count,
            inputData.bailout_BailOutOnFailedPolymorphicInlineTypeCheck_count_cap,
            inputData.bailout_BailOutShared_present,
            inputData.bailout_BailOutShared_count,
            inputData.bailout_BailOutShared_count_cap,
            inputData.bailout_BailOutOnNotArray_present,
            inputData.bailout_BailOutOnNotArray_count,
            inputData.bailout_BailOutOnNotArray_count_cap,
            inputData.bailout_BailOutOnNotNativeArray_present,
            inputData.bailout_BailOutOnNotNativeArray_count,
            inputData.bailout_BailOutOnNotNativeArray_count_cap,
            inputData.bailout_BailOutConventionalTypedArrayAccessOnly_present,
            inputData.bailout_BailOutConventionalTypedArrayAccessOnly_count,
            inputData.bailout_BailOutConventionalTypedArrayAccessOnly_count_cap,
            inputData.bailout_BailOutOnIrregularLength_present,
            inputData.bailout_BailOutOnIrregularLength_count,
            inputData.bailout_BailOutOnIrregularLength_count_cap,
            inputData.bailout_BailOutCheckThis_present,
            inputData.bailout_BailOutCheckThis_count,
            inputData.bailout_BailOutCheckThis_count_cap,
            inputData.bailout_BailOutOnTaggedValue_present,
            inputData.bailout_BailOutOnTaggedValue_count,
            inputData.bailout_BailOutOnTaggedValue_count_cap,
            inputData.bailout_BailOutFailedTypeCheck_present,
            inputData.bailout_BailOutFailedTypeCheck_count,
            inputData.bailout_BailOutFailedTypeCheck_count_cap,
            inputData.bailout_BailOutFailedEquivalentTypeCheck_present,
            inputData.bailout_BailOutFailedEquivalentTypeCheck_count,
            inputData.bailout_BailOutFailedEquivalentTypeCheck_count_cap,
            inputData.bailout_BailOutInjected_present,
            inputData.bailout_BailOutInjected_count,
            inputData.bailout_BailOutInjected_count_cap,
            inputData.bailout_BailOutExpectingInteger_present,
            inputData.bailout_BailOutExpectingInteger_count,
            inputData.bailout_BailOutExpectingInteger_count_cap,
            inputData.bailout_BailOutExpectingString_present,
            inputData.bailout_BailOutExpectingString_count,
            inputData.bailout_BailOutExpectingString_count_cap,
            inputData.bailout_BailOutFailedInlineTypeCheck_present,
            inputData.bailout_BailOutFailedInlineTypeCheck_count,
            inputData.bailout_BailOutFailedInlineTypeCheck_count_cap,
            inputData.bailout_BailOutFailedFixedFieldTypeCheck_present,
            inputData.bailout_BailOutFailedFixedFieldTypeCheck_count,
            inputData.bailout_BailOutFailedFixedFieldTypeCheck_count_cap,
            inputData.bailout_BailOutFailedFixedFieldCheck_present,
            inputData.bailout_BailOutFailedFixedFieldCheck_count,
            inputData.bailout_BailOutFailedFixedFieldCheck_count_cap,
            inputData.bailout_BailOutFailedEquivalentFixedFieldTypeCheck_present,
            inputData.bailout_BailOutFailedEquivalentFixedFieldTypeCheck_count,
            inputData.bailout_BailOutFailedEquivalentFixedFieldTypeCheck_count_cap,
            inputData.bailout_BailOutOnFloor_present,
            inputData.bailout_BailOutOnFloor_count,
            inputData.bailout_BailOutOnFloor_count_cap,
            inputData.bailout_BailOnModByPowerOf2_present,
            inputData.bailout_BailOnModByPowerOf2_count,
            inputData.bailout_BailOnModByPowerOf2_count_cap,
            inputData.bailout_BailOnIntMin_present,
            inputData.bailout_BailOnIntMin_count,
            inputData.bailout_BailOnIntMin_count_cap,
            inputData.bailout_BailOnDivResultNotInt_present,
            inputData.bailout_BailOnDivResultNotInt_count,
            inputData.bailout_BailOnDivResultNotInt_count_cap,
            inputData.bailout_BailOnSimpleJitToFullJitLoopBody_present,
            inputData.bailout_BailOnSimpleJitToFullJitLoopBody_count,
            inputData.bailout_BailOnSimpleJitToFullJitLoopBody_count_cap,
            inputData.bailout_BailOutFailedCtorGuardCheck_present,
            inputData.bailout_BailOutFailedCtorGuardCheck_count,
            inputData.bailout_BailOutFailedCtorGuardCheck_count_cap,
            inputData.bailout_BailOutOnFailedHoistedBoundCheck_present,
            inputData.bailout_BailOutOnFailedHoistedBoundCheck_count,
            inputData.bailout_BailOutOnFailedHoistedBoundCheck_count_cap,
            inputData.bailout_LazyBailOut_present,
            inputData.bailout_LazyBailOut_count,
            inputData.bailout_LazyBailOut_count_cap,
            inputData.bailout_BailOutOnFailedHoistedLoopCountBasedBoundCheck_present,
            inputData.bailout_BailOutOnFailedHoistedLoopCountBasedBoundCheck_count,
            inputData.bailout_BailOutOnFailedHoistedLoopCountBasedBoundCheck_count_cap,
            inputData.bailout_BailOutForGeneratorYield_present,
            inputData.bailout_BailOutForGeneratorYield_count,
            inputData.bailout_BailOutForGeneratorYield_count_cap,
            inputData.bailout_BailOutOnException_present,
            inputData.bailout_BailOutOnException_count,
            inputData.bailout_BailOutOnException_count_cap,
            inputData.bailout_BailOutOnEarlyExit_present,
            inputData.bailout_BailOutOnEarlyExit_count,
            inputData.bailout_BailOutOnEarlyExit_count_cap,
            inputData.bailout_BailOutSimd128F4Only_present,
            inputData.bailout_BailOutSimd128F4Only_count,
            inputData.bailout_BailOutSimd128F4Only_count_cap,
            inputData.bailout_BailOutSimd128I4Only_present,
            inputData.bailout_BailOutSimd128I4Only_count,
            inputData.bailout_BailOutSimd128I4Only_count_cap,
            inputData.bailout_BailOutSimd128I8Only_present,
            inputData.bailout_BailOutSimd128I8Only_count,
            inputData.bailout_BailOutSimd128I8Only_count_cap,
            inputData.bailout_BailOutSimd128I16Only_present,
            inputData.bailout_BailOutSimd128I16Only_count,
            inputData.bailout_BailOutSimd128I16Only_count_cap,
            inputData.bailout_BailOutSimd128U4Only_present,
            inputData.bailout_BailOutSimd128U4Only_count,
            inputData.bailout_BailOutSimd128U4Only_count_cap,
            inputData.bailout_BailOutSimd128U8Only_present,
            inputData.bailout_BailOutSimd128U8Only_count,
            inputData.bailout_BailOutSimd128U8Only_count_cap,
            inputData.bailout_BailOutSimd128U16Only_present,
            inputData.bailout_BailOutSimd128U16Only_count,
            inputData.bailout_BailOutSimd128U16Only_count_cap,
            inputData.bailout_BailOutSimd128B4Only_present,
            inputData.bailout_BailOutSimd128B4Only_count,
            inputData.bailout_BailOutSimd128B4Only_count_cap,
            inputData.bailout_BailOutSimd128B8Only_present,
            inputData.bailout_BailOutSimd128B8Only_count,
            inputData.bailout_BailOutSimd128B8Only_count_cap,
            inputData.bailout_BailOutSimd128B16Only_present,
            inputData.bailout_BailOutSimd128B16Only_count,
            inputData.bailout_BailOutSimd128B16Only_count_cap,
            inputData.bailout_BailOutSimd128D2Only_present,
            inputData.bailout_BailOutSimd128D2Only_count,
            inputData.bailout_BailOutSimd128D2Only_count_cap,
            inputData.bailout_BailOutNoSimdTypeSpec_present,
            inputData.bailout_BailOutNoSimdTypeSpec_count,
            inputData.bailout_BailOutNoSimdTypeSpec_count_cap,
            inputData.bailout_BailOutKindEnd_present,
            inputData.bailout_BailOutKindEnd_count,
            inputData.bailout_BailOutKindEnd_count_cap,
            inputData.bailout_BailOutKindBitsStart_present,
            inputData.bailout_BailOutKindBitsStart_count,
            inputData.bailout_BailOutKindBitsStart_count_cap,
            configMap.OSArchitecture AS OSArchitecture
    FROM inputData
    INNER JOIN configMap
    ON(
            inputData.MachineConfigId == configMap.MachineConfigId
      );

/*
 * Aggregate by architecture
 */
AggregateData = 
    SELECT
        Domain,
        ApplicationName,
        OSArchitecture,
        COUNT(*) AS numpoints,
        SUM(rejit_None_present ? 1 : 0) AS rejit_None_traces,
        SUM(rejit_None_count) AS rejit_None_sum,
        SUM(rejit_None_count_cap) AS rejit_None_cap_sum,
        SUM(rejit_Forced_present ? 1 : 0) AS rejit_Forced_traces,
        SUM(rejit_Forced_count) AS rejit_Forced_sum,
        SUM(rejit_Forced_count_cap) AS rejit_Forced_cap_sum,
        SUM(rejit_RuntimeStatsEnabled_present ? 1 : 0) AS rejit_RuntimeStatsEnabled_traces,
        SUM(rejit_RuntimeStatsEnabled_count) AS rejit_RuntimeStatsEnabled_sum,
        SUM(rejit_RuntimeStatsEnabled_count_cap) AS rejit_RuntimeStatsEnabled_cap_sum,
        SUM(rejit_AggressiveIntTypeSpecDisabled_present ? 1 : 0) AS rejit_AggressiveIntTypeSpecDisabled_traces,
        SUM(rejit_AggressiveIntTypeSpecDisabled_count) AS rejit_AggressiveIntTypeSpecDisabled_sum,
        SUM(rejit_AggressiveIntTypeSpecDisabled_count_cap) AS rejit_AggressiveIntTypeSpecDisabled_cap_sum,
        SUM(rejit_AggressiveMulIntTypeSpecDisabled_present ? 1 : 0) AS rejit_AggressiveMulIntTypeSpecDisabled_traces,
        SUM(rejit_AggressiveMulIntTypeSpecDisabled_count) AS rejit_AggressiveMulIntTypeSpecDisabled_sum,
        SUM(rejit_AggressiveMulIntTypeSpecDisabled_count_cap) AS rejit_AggressiveMulIntTypeSpecDisabled_cap_sum,
        SUM(rejit_DivIntTypeSpecDisabled_present ? 1 : 0) AS rejit_DivIntTypeSpecDisabled_traces,
        SUM(rejit_DivIntTypeSpecDisabled_count) AS rejit_DivIntTypeSpecDisabled_sum,
        SUM(rejit_DivIntTypeSpecDisabled_count_cap) AS rejit_DivIntTypeSpecDisabled_cap_sum,
        SUM(rejit_TrackIntOverflowDisabled_present ? 1 : 0) AS rejit_TrackIntOverflowDisabled_traces,
        SUM(rejit_TrackIntOverflowDisabled_count) AS rejit_TrackIntOverflowDisabled_sum,
        SUM(rejit_TrackIntOverflowDisabled_count_cap) AS rejit_TrackIntOverflowDisabled_cap_sum,
        SUM(rejit_FloatTypeSpecDisabled_present ? 1 : 0) AS rejit_FloatTypeSpecDisabled_traces,
        SUM(rejit_FloatTypeSpecDisabled_count) AS rejit_FloatTypeSpecDisabled_sum,
        SUM(rejit_FloatTypeSpecDisabled_count_cap) AS rejit_FloatTypeSpecDisabled_cap_sum,
        SUM(rejit_ImplicitCallFlagsChanged_present ? 1 : 0) AS rejit_ImplicitCallFlagsChanged_traces,
        SUM(rejit_ImplicitCallFlagsChanged_count) AS rejit_ImplicitCallFlagsChanged_sum,
        SUM(rejit_ImplicitCallFlagsChanged_count_cap) AS rejit_ImplicitCallFlagsChanged_cap_sum,
        SUM(rejit_FailedPolymorphicInlineeTypeCheck_present ? 1 : 0) AS rejit_FailedPolymorphicInlineeTypeCheck_traces,
        SUM(rejit_FailedPolymorphicInlineeTypeCheck_count) AS rejit_FailedPolymorphicInlineeTypeCheck_sum,
        SUM(rejit_FailedPolymorphicInlineeTypeCheck_count_cap) AS rejit_FailedPolymorphicInlineeTypeCheck_cap_sum,
        SUM(rejit_InlineeChanged_present ? 1 : 0) AS rejit_InlineeChanged_traces,
        SUM(rejit_InlineeChanged_count) AS rejit_InlineeChanged_sum,
        SUM(rejit_InlineeChanged_count_cap) AS rejit_InlineeChanged_cap_sum,
        SUM(rejit_CheckThisDisabled_present ? 1 : 0) AS rejit_CheckThisDisabled_traces,
        SUM(rejit_CheckThisDisabled_count) AS rejit_CheckThisDisabled_sum,
        SUM(rejit_CheckThisDisabled_count_cap) AS rejit_CheckThisDisabled_cap_sum,
        SUM(rejit_LossyIntTypeSpecDisabled_present ? 1 : 0) AS rejit_LossyIntTypeSpecDisabled_traces,
        SUM(rejit_LossyIntTypeSpecDisabled_count) AS rejit_LossyIntTypeSpecDisabled_sum,
        SUM(rejit_LossyIntTypeSpecDisabled_count_cap) AS rejit_LossyIntTypeSpecDisabled_cap_sum,
        SUM(rejit_MemOpDisabled_present ? 1 : 0) AS rejit_MemOpDisabled_traces,
        SUM(rejit_MemOpDisabled_count) AS rejit_MemOpDisabled_sum,
        SUM(rejit_MemOpDisabled_count_cap) AS rejit_MemOpDisabled_cap_sum,
        SUM(rejit_FailedTypeCheck_present ? 1 : 0) AS rejit_FailedTypeCheck_traces,
        SUM(rejit_FailedTypeCheck_count) AS rejit_FailedTypeCheck_sum,
        SUM(rejit_FailedTypeCheck_count_cap) AS rejit_FailedTypeCheck_cap_sum,
        SUM(rejit_FailedFixedFieldTypeCheck_present ? 1 : 0) AS rejit_FailedFixedFieldTypeCheck_traces,
        SUM(rejit_FailedFixedFieldTypeCheck_count) AS rejit_FailedFixedFieldTypeCheck_sum,
        SUM(rejit_FailedFixedFieldTypeCheck_count_cap) AS rejit_FailedFixedFieldTypeCheck_cap_sum,
        SUM(rejit_FailedFixedFieldCheck_present ? 1 : 0) AS rejit_FailedFixedFieldCheck_traces,
        SUM(rejit_FailedFixedFieldCheck_count) AS rejit_FailedFixedFieldCheck_sum,
        SUM(rejit_FailedFixedFieldCheck_count_cap) AS rejit_FailedFixedFieldCheck_cap_sum,
        SUM(rejit_FailedEquivalentTypeCheck_present ? 1 : 0) AS rejit_FailedEquivalentTypeCheck_traces,
        SUM(rejit_FailedEquivalentTypeCheck_count) AS rejit_FailedEquivalentTypeCheck_sum,
        SUM(rejit_FailedEquivalentTypeCheck_count_cap) AS rejit_FailedEquivalentTypeCheck_cap_sum,
        SUM(rejit_FailedEquivalentFixedFieldTypeCheck_present ? 1 : 0) AS rejit_FailedEquivalentFixedFieldTypeCheck_traces,
        SUM(rejit_FailedEquivalentFixedFieldTypeCheck_count) AS rejit_FailedEquivalentFixedFieldTypeCheck_sum,
        SUM(rejit_FailedEquivalentFixedFieldTypeCheck_count_cap) AS rejit_FailedEquivalentFixedFieldTypeCheck_cap_sum,
        SUM(rejit_CtorGuardInvalidated_present ? 1 : 0) AS rejit_CtorGuardInvalidated_traces,
        SUM(rejit_CtorGuardInvalidated_count) AS rejit_CtorGuardInvalidated_sum,
        SUM(rejit_CtorGuardInvalidated_count_cap) AS rejit_CtorGuardInvalidated_cap_sum,
        SUM(rejit_ArrayCheckHoistDisabled_present ? 1 : 0) AS rejit_ArrayCheckHoistDisabled_traces,
        SUM(rejit_ArrayCheckHoistDisabled_count) AS rejit_ArrayCheckHoistDisabled_sum,
        SUM(rejit_ArrayCheckHoistDisabled_count_cap) AS rejit_ArrayCheckHoistDisabled_cap_sum,
        SUM(rejit_ArrayMissingValueCheckHoistDisabled_present ? 1 : 0) AS rejit_ArrayMissingValueCheckHoistDisabled_traces,
        SUM(rejit_ArrayMissingValueCheckHoistDisabled_count) AS rejit_ArrayMissingValueCheckHoistDisabled_sum,
        SUM(rejit_ArrayMissingValueCheckHoistDisabled_count_cap) AS rejit_ArrayMissingValueCheckHoistDisabled_cap_sum,
        SUM(rejit_ArrayAccessHelperCallEliminationDisabled_present ? 1 : 0) AS rejit_ArrayAccessHelperCallEliminationDisabled_traces,
        SUM(rejit_ArrayAccessHelperCallEliminationDisabled_count) AS rejit_ArrayAccessHelperCallEliminationDisabled_sum,
        SUM(rejit_ArrayAccessHelperCallEliminationDisabled_count_cap) AS rejit_ArrayAccessHelperCallEliminationDisabled_cap_sum,
        SUM(rejit_ExpectingNativeArray_present ? 1 : 0) AS rejit_ExpectingNativeArray_traces,
        SUM(rejit_ExpectingNativeArray_count) AS rejit_ExpectingNativeArray_sum,
        SUM(rejit_ExpectingNativeArray_count_cap) AS rejit_ExpectingNativeArray_cap_sum,
        SUM(rejit_ConvertedNativeArray_present ? 1 : 0) AS rejit_ConvertedNativeArray_traces,
        SUM(rejit_ConvertedNativeArray_count) AS rejit_ConvertedNativeArray_sum,
        SUM(rejit_ConvertedNativeArray_count_cap) AS rejit_ConvertedNativeArray_cap_sum,
        SUM(rejit_ArrayAccessNeededHelperCall_present ? 1 : 0) AS rejit_ArrayAccessNeededHelperCall_traces,
        SUM(rejit_ArrayAccessNeededHelperCall_count) AS rejit_ArrayAccessNeededHelperCall_sum,
        SUM(rejit_ArrayAccessNeededHelperCall_count_cap) AS rejit_ArrayAccessNeededHelperCall_cap_sum,
        SUM(rejit_JsArraySegmentHoistDisabled_present ? 1 : 0) AS rejit_JsArraySegmentHoistDisabled_traces,
        SUM(rejit_JsArraySegmentHoistDisabled_count) AS rejit_JsArraySegmentHoistDisabled_sum,
        SUM(rejit_JsArraySegmentHoistDisabled_count_cap) AS rejit_JsArraySegmentHoistDisabled_cap_sum,
        SUM(rejit_TypedArrayTypeSpecDisabled_present ? 1 : 0) AS rejit_TypedArrayTypeSpecDisabled_traces,
        SUM(rejit_TypedArrayTypeSpecDisabled_count) AS rejit_TypedArrayTypeSpecDisabled_sum,
        SUM(rejit_TypedArrayTypeSpecDisabled_count_cap) AS rejit_TypedArrayTypeSpecDisabled_cap_sum,
        SUM(rejit_ExpectingConventionalNativeArrayAccess_present ? 1 : 0) AS rejit_ExpectingConventionalNativeArrayAccess_traces,
        SUM(rejit_ExpectingConventionalNativeArrayAccess_count) AS rejit_ExpectingConventionalNativeArrayAccess_sum,
        SUM(rejit_ExpectingConventionalNativeArrayAccess_count_cap) AS rejit_ExpectingConventionalNativeArrayAccess_cap_sum,
        SUM(rejit_LdLenIntSpecDisabled_present ? 1 : 0) AS rejit_LdLenIntSpecDisabled_traces,
        SUM(rejit_LdLenIntSpecDisabled_count) AS rejit_LdLenIntSpecDisabled_sum,
        SUM(rejit_LdLenIntSpecDisabled_count_cap) AS rejit_LdLenIntSpecDisabled_cap_sum,
        SUM(rejit_FailedTagCheck_present ? 1 : 0) AS rejit_FailedTagCheck_traces,
        SUM(rejit_FailedTagCheck_count) AS rejit_FailedTagCheck_sum,
        SUM(rejit_FailedTagCheck_count_cap) AS rejit_FailedTagCheck_cap_sum,
        SUM(rejit_BoundCheckHoistDisabled_present ? 1 : 0) AS rejit_BoundCheckHoistDisabled_traces,
        SUM(rejit_BoundCheckHoistDisabled_count) AS rejit_BoundCheckHoistDisabled_sum,
        SUM(rejit_BoundCheckHoistDisabled_count_cap) AS rejit_BoundCheckHoistDisabled_cap_sum,
        SUM(rejit_LoopCountBasedBoundCheckHoistDisabled_present ? 1 : 0) AS rejit_LoopCountBasedBoundCheckHoistDisabled_traces,
        SUM(rejit_LoopCountBasedBoundCheckHoistDisabled_count) AS rejit_LoopCountBasedBoundCheckHoistDisabled_sum,
        SUM(rejit_LoopCountBasedBoundCheckHoistDisabled_count_cap) AS rejit_LoopCountBasedBoundCheckHoistDisabled_cap_sum,
        SUM(rejit_AfterLoopBodyRejit_present ? 1 : 0) AS rejit_AfterLoopBodyRejit_traces,
        SUM(rejit_AfterLoopBodyRejit_count) AS rejit_AfterLoopBodyRejit_sum,
        SUM(rejit_AfterLoopBodyRejit_count_cap) AS rejit_AfterLoopBodyRejit_cap_sum,
        SUM(rejit_DisableSwitchOptExpectingInteger_present ? 1 : 0) AS rejit_DisableSwitchOptExpectingInteger_traces,
        SUM(rejit_DisableSwitchOptExpectingInteger_count) AS rejit_DisableSwitchOptExpectingInteger_sum,
        SUM(rejit_DisableSwitchOptExpectingInteger_count_cap) AS rejit_DisableSwitchOptExpectingInteger_cap_sum,
        SUM(rejit_DisableSwitchOptExpectingString_present ? 1 : 0) AS rejit_DisableSwitchOptExpectingString_traces,
        SUM(rejit_DisableSwitchOptExpectingString_count) AS rejit_DisableSwitchOptExpectingString_sum,
        SUM(rejit_DisableSwitchOptExpectingString_count_cap) AS rejit_DisableSwitchOptExpectingString_cap_sum,
        SUM(rejit_InlineApplyDisabled_present ? 1 : 0) AS rejit_InlineApplyDisabled_traces,
        SUM(rejit_InlineApplyDisabled_count) AS rejit_InlineApplyDisabled_sum,
        SUM(rejit_InlineApplyDisabled_count_cap) AS rejit_InlineApplyDisabled_cap_sum,
        SUM(rejit_InlineSpreadDisabled_present ? 1 : 0) AS rejit_InlineSpreadDisabled_traces,
        SUM(rejit_InlineSpreadDisabled_count) AS rejit_InlineSpreadDisabled_sum,
        SUM(rejit_InlineSpreadDisabled_count_cap) AS rejit_InlineSpreadDisabled_cap_sum,
        SUM(rejit_FloorInliningDisabled_present ? 1 : 0) AS rejit_FloorInliningDisabled_traces,
        SUM(rejit_FloorInliningDisabled_count) AS rejit_FloorInliningDisabled_sum,
        SUM(rejit_FloorInliningDisabled_count_cap) AS rejit_FloorInliningDisabled_cap_sum,
        SUM(rejit_ModByPowerOf2_present ? 1 : 0) AS rejit_ModByPowerOf2_traces,
        SUM(rejit_ModByPowerOf2_count) AS rejit_ModByPowerOf2_sum,
        SUM(rejit_ModByPowerOf2_count_cap) AS rejit_ModByPowerOf2_cap_sum,
        SUM(rejit_NoProfile_present ? 1 : 0) AS rejit_NoProfile_traces,
        SUM(rejit_NoProfile_count) AS rejit_NoProfile_sum,
        SUM(rejit_NoProfile_count_cap) AS rejit_NoProfile_cap_sum,
        SUM(rejit_PowIntIntTypeSpecDisabled_present ? 1 : 0) AS rejit_PowIntIntTypeSpecDisabled_traces,
        SUM(rejit_PowIntIntTypeSpecDisabled_count) AS rejit_PowIntIntTypeSpecDisabled_sum,
        SUM(rejit_PowIntIntTypeSpecDisabled_count_cap) AS rejit_PowIntIntTypeSpecDisabled_cap_sum,
        SUM(rejit_DisableStackArgOpt_present ? 1 : 0) AS rejit_DisableStackArgOpt_traces,
        SUM(rejit_DisableStackArgOpt_count) AS rejit_DisableStackArgOpt_sum,
        SUM(rejit_DisableStackArgOpt_count_cap) AS rejit_DisableStackArgOpt_cap_sum,
        SUM(rejit_OptimizeTryFinallyDisabled_present ? 1 : 0) AS rejit_OptimizeTryFinallyDisabled_traces,
        SUM(rejit_OptimizeTryFinallyDisabled_count) AS rejit_OptimizeTryFinallyDisabled_sum,
        SUM(rejit_OptimizeTryFinallyDisabled_count_cap) AS rejit_OptimizeTryFinallyDisabled_cap_sum,
        SUM(bailout_BailOutInvalid_present ? 1 : 0) AS bailout_BailOutInvalid_traces,
        SUM(bailout_BailOutInvalid_count) AS bailout_BailOutInvalid_sum,
        SUM(bailout_BailOutInvalid_count_cap) AS bailout_BailOutInvalid_cap_sum,
        SUM(bailout_BailOutIntOnly_present ? 1 : 0) AS bailout_BailOutIntOnly_traces,
        SUM(bailout_BailOutIntOnly_count) AS bailout_BailOutIntOnly_sum,
        SUM(bailout_BailOutIntOnly_count_cap) AS bailout_BailOutIntOnly_cap_sum,
        SUM(bailout_BailOutNumberOnly_present ? 1 : 0) AS bailout_BailOutNumberOnly_traces,
        SUM(bailout_BailOutNumberOnly_count) AS bailout_BailOutNumberOnly_sum,
        SUM(bailout_BailOutNumberOnly_count_cap) AS bailout_BailOutNumberOnly_cap_sum,
        SUM(bailout_BailOutPrimitiveButString_present ? 1 : 0) AS bailout_BailOutPrimitiveButString_traces,
        SUM(bailout_BailOutPrimitiveButString_count) AS bailout_BailOutPrimitiveButString_sum,
        SUM(bailout_BailOutPrimitiveButString_count_cap) AS bailout_BailOutPrimitiveButString_cap_sum,
        SUM(bailout_BailOutOnImplicitCalls_present ? 1 : 0) AS bailout_BailOutOnImplicitCalls_traces,
        SUM(bailout_BailOutOnImplicitCalls_count) AS bailout_BailOutOnImplicitCalls_sum,
        SUM(bailout_BailOutOnImplicitCalls_count_cap) AS bailout_BailOutOnImplicitCalls_cap_sum,
        SUM(bailout_BailOutOnImplicitCallsPreOp_present ? 1 : 0) AS bailout_BailOutOnImplicitCallsPreOp_traces,
        SUM(bailout_BailOutOnImplicitCallsPreOp_count) AS bailout_BailOutOnImplicitCallsPreOp_sum,
        SUM(bailout_BailOutOnImplicitCallsPreOp_count_cap) AS bailout_BailOutOnImplicitCallsPreOp_cap_sum,
        SUM(bailout_BailOutOnNotPrimitive_present ? 1 : 0) AS bailout_BailOutOnNotPrimitive_traces,
        SUM(bailout_BailOutOnNotPrimitive_count) AS bailout_BailOutOnNotPrimitive_sum,
        SUM(bailout_BailOutOnNotPrimitive_count_cap) AS bailout_BailOutOnNotPrimitive_cap_sum,
        SUM(bailout_BailOutOnMemOpError_present ? 1 : 0) AS bailout_BailOutOnMemOpError_traces,
        SUM(bailout_BailOutOnMemOpError_count) AS bailout_BailOutOnMemOpError_sum,
        SUM(bailout_BailOutOnMemOpError_count_cap) AS bailout_BailOutOnMemOpError_cap_sum,
        SUM(bailout_BailOutOnInlineFunction_present ? 1 : 0) AS bailout_BailOutOnInlineFunction_traces,
        SUM(bailout_BailOutOnInlineFunction_count) AS bailout_BailOutOnInlineFunction_sum,
        SUM(bailout_BailOutOnInlineFunction_count_cap) AS bailout_BailOutOnInlineFunction_cap_sum,
        SUM(bailout_BailOutOnNoProfile_present ? 1 : 0) AS bailout_BailOutOnNoProfile_traces,
        SUM(bailout_BailOutOnNoProfile_count) AS bailout_BailOutOnNoProfile_sum,
        SUM(bailout_BailOutOnNoProfile_count_cap) AS bailout_BailOutOnNoProfile_cap_sum,
        SUM(bailout_BailOutOnPolymorphicInlineFunction_present ? 1 : 0) AS bailout_BailOutOnPolymorphicInlineFunction_traces,
        SUM(bailout_BailOutOnPolymorphicInlineFunction_count) AS bailout_BailOutOnPolymorphicInlineFunction_sum,
        SUM(bailout_BailOutOnPolymorphicInlineFunction_count_cap) AS bailout_BailOutOnPolymorphicInlineFunction_cap_sum,
        SUM(bailout_BailOutOnFailedPolymorphicInlineTypeCheck_present ? 1 : 0) AS bailout_BailOutOnFailedPolymorphicInlineTypeCheck_traces,
        SUM(bailout_BailOutOnFailedPolymorphicInlineTypeCheck_count) AS bailout_BailOutOnFailedPolymorphicInlineTypeCheck_sum,
        SUM(bailout_BailOutOnFailedPolymorphicInlineTypeCheck_count_cap) AS bailout_BailOutOnFailedPolymorphicInlineTypeCheck_cap_sum,
        SUM(bailout_BailOutShared_present ? 1 : 0) AS bailout_BailOutShared_traces,
        SUM(bailout_BailOutShared_count) AS bailout_BailOutShared_sum,
        SUM(bailout_BailOutShared_count_cap) AS bailout_BailOutShared_cap_sum,
        SUM(bailout_BailOutOnNotArray_present ? 1 : 0) AS bailout_BailOutOnNotArray_traces,
        SUM(bailout_BailOutOnNotArray_count) AS bailout_BailOutOnNotArray_sum,
        SUM(bailout_BailOutOnNotArray_count_cap) AS bailout_BailOutOnNotArray_cap_sum,
        SUM(bailout_BailOutOnNotNativeArray_present ? 1 : 0) AS bailout_BailOutOnNotNativeArray_traces,
        SUM(bailout_BailOutOnNotNativeArray_count) AS bailout_BailOutOnNotNativeArray_sum,
        SUM(bailout_BailOutOnNotNativeArray_count_cap) AS bailout_BailOutOnNotNativeArray_cap_sum,
        SUM(bailout_BailOutConventionalTypedArrayAccessOnly_present ? 1 : 0) AS bailout_BailOutConventionalTypedArrayAccessOnly_traces,
        SUM(bailout_BailOutConventionalTypedArrayAccessOnly_count) AS bailout_BailOutConventionalTypedArrayAccessOnly_sum,
        SUM(bailout_BailOutConventionalTypedArrayAccessOnly_count_cap) AS bailout_BailOutConventionalTypedArrayAccessOnly_cap_sum,
        SUM(bailout_BailOutOnIrregularLength_present ? 1 : 0) AS bailout_BailOutOnIrregularLength_traces,
        SUM(bailout_BailOutOnIrregularLength_count) AS bailout_BailOutOnIrregularLength_sum,
        SUM(bailout_BailOutOnIrregularLength_count_cap) AS bailout_BailOutOnIrregularLength_cap_sum,
        SUM(bailout_BailOutCheckThis_present ? 1 : 0) AS bailout_BailOutCheckThis_traces,
        SUM(bailout_BailOutCheckThis_count) AS bailout_BailOutCheckThis_sum,
        SUM(bailout_BailOutCheckThis_count_cap) AS bailout_BailOutCheckThis_cap_sum,
        SUM(bailout_BailOutOnTaggedValue_present ? 1 : 0) AS bailout_BailOutOnTaggedValue_traces,
        SUM(bailout_BailOutOnTaggedValue_count) AS bailout_BailOutOnTaggedValue_sum,
        SUM(bailout_BailOutOnTaggedValue_count_cap) AS bailout_BailOutOnTaggedValue_cap_sum,
        SUM(bailout_BailOutFailedTypeCheck_present ? 1 : 0) AS bailout_BailOutFailedTypeCheck_traces,
        SUM(bailout_BailOutFailedTypeCheck_count) AS bailout_BailOutFailedTypeCheck_sum,
        SUM(bailout_BailOutFailedTypeCheck_count_cap) AS bailout_BailOutFailedTypeCheck_cap_sum,
        SUM(bailout_BailOutFailedEquivalentTypeCheck_present ? 1 : 0) AS bailout_BailOutFailedEquivalentTypeCheck_traces,
        SUM(bailout_BailOutFailedEquivalentTypeCheck_count) AS bailout_BailOutFailedEquivalentTypeCheck_sum,
        SUM(bailout_BailOutFailedEquivalentTypeCheck_count_cap) AS bailout_BailOutFailedEquivalentTypeCheck_cap_sum,
        SUM(bailout_BailOutInjected_present ? 1 : 0) AS bailout_BailOutInjected_traces,
        SUM(bailout_BailOutInjected_count) AS bailout_BailOutInjected_sum,
        SUM(bailout_BailOutInjected_count_cap) AS bailout_BailOutInjected_cap_sum,
        SUM(bailout_BailOutExpectingInteger_present ? 1 : 0) AS bailout_BailOutExpectingInteger_traces,
        SUM(bailout_BailOutExpectingInteger_count) AS bailout_BailOutExpectingInteger_sum,
        SUM(bailout_BailOutExpectingInteger_count_cap) AS bailout_BailOutExpectingInteger_cap_sum,
        SUM(bailout_BailOutExpectingString_present ? 1 : 0) AS bailout_BailOutExpectingString_traces,
        SUM(bailout_BailOutExpectingString_count) AS bailout_BailOutExpectingString_sum,
        SUM(bailout_BailOutExpectingString_count_cap) AS bailout_BailOutExpectingString_cap_sum,
        SUM(bailout_BailOutFailedInlineTypeCheck_present ? 1 : 0) AS bailout_BailOutFailedInlineTypeCheck_traces,
        SUM(bailout_BailOutFailedInlineTypeCheck_count) AS bailout_BailOutFailedInlineTypeCheck_sum,
        SUM(bailout_BailOutFailedInlineTypeCheck_count_cap) AS bailout_BailOutFailedInlineTypeCheck_cap_sum,
        SUM(bailout_BailOutFailedFixedFieldTypeCheck_present ? 1 : 0) AS bailout_BailOutFailedFixedFieldTypeCheck_traces,
        SUM(bailout_BailOutFailedFixedFieldTypeCheck_count) AS bailout_BailOutFailedFixedFieldTypeCheck_sum,
        SUM(bailout_BailOutFailedFixedFieldTypeCheck_count_cap) AS bailout_BailOutFailedFixedFieldTypeCheck_cap_sum,
        SUM(bailout_BailOutFailedFixedFieldCheck_present ? 1 : 0) AS bailout_BailOutFailedFixedFieldCheck_traces,
        SUM(bailout_BailOutFailedFixedFieldCheck_count) AS bailout_BailOutFailedFixedFieldCheck_sum,
        SUM(bailout_BailOutFailedFixedFieldCheck_count_cap) AS bailout_BailOutFailedFixedFieldCheck_cap_sum,
        SUM(bailout_BailOutFailedEquivalentFixedFieldTypeCheck_present ? 1 : 0) AS bailout_BailOutFailedEquivalentFixedFieldTypeCheck_traces,
        SUM(bailout_BailOutFailedEquivalentFixedFieldTypeCheck_count) AS bailout_BailOutFailedEquivalentFixedFieldTypeCheck_sum,
        SUM(bailout_BailOutFailedEquivalentFixedFieldTypeCheck_count_cap) AS bailout_BailOutFailedEquivalentFixedFieldTypeCheck_cap_sum,
        SUM(bailout_BailOutOnFloor_present ? 1 : 0) AS bailout_BailOutOnFloor_traces,
        SUM(bailout_BailOutOnFloor_count) AS bailout_BailOutOnFloor_sum,
        SUM(bailout_BailOutOnFloor_count_cap) AS bailout_BailOutOnFloor_cap_sum,
        SUM(bailout_BailOnModByPowerOf2_present ? 1 : 0) AS bailout_BailOnModByPowerOf2_traces,
        SUM(bailout_BailOnModByPowerOf2_count) AS bailout_BailOnModByPowerOf2_sum,
        SUM(bailout_BailOnModByPowerOf2_count_cap) AS bailout_BailOnModByPowerOf2_cap_sum,
        SUM(bailout_BailOnIntMin_present ? 1 : 0) AS bailout_BailOnIntMin_traces,
        SUM(bailout_BailOnIntMin_count) AS bailout_BailOnIntMin_sum,
        SUM(bailout_BailOnIntMin_count_cap) AS bailout_BailOnIntMin_cap_sum,
        SUM(bailout_BailOnDivResultNotInt_present ? 1 : 0) AS bailout_BailOnDivResultNotInt_traces,
        SUM(bailout_BailOnDivResultNotInt_count) AS bailout_BailOnDivResultNotInt_sum,
        SUM(bailout_BailOnDivResultNotInt_count_cap) AS bailout_BailOnDivResultNotInt_cap_sum,
        SUM(bailout_BailOnSimpleJitToFullJitLoopBody_present ? 1 : 0) AS bailout_BailOnSimpleJitToFullJitLoopBody_traces,
        SUM(bailout_BailOnSimpleJitToFullJitLoopBody_count) AS bailout_BailOnSimpleJitToFullJitLoopBody_sum,
        SUM(bailout_BailOnSimpleJitToFullJitLoopBody_count_cap) AS bailout_BailOnSimpleJitToFullJitLoopBody_cap_sum,
        SUM(bailout_BailOutFailedCtorGuardCheck_present ? 1 : 0) AS bailout_BailOutFailedCtorGuardCheck_traces,
        SUM(bailout_BailOutFailedCtorGuardCheck_count) AS bailout_BailOutFailedCtorGuardCheck_sum,
        SUM(bailout_BailOutFailedCtorGuardCheck_count_cap) AS bailout_BailOutFailedCtorGuardCheck_cap_sum,
        SUM(bailout_BailOutOnFailedHoistedBoundCheck_present ? 1 : 0) AS bailout_BailOutOnFailedHoistedBoundCheck_traces,
        SUM(bailout_BailOutOnFailedHoistedBoundCheck_count) AS bailout_BailOutOnFailedHoistedBoundCheck_sum,
        SUM(bailout_BailOutOnFailedHoistedBoundCheck_count_cap) AS bailout_BailOutOnFailedHoistedBoundCheck_cap_sum,
        SUM(bailout_LazyBailOut_present ? 1 : 0) AS bailout_LazyBailOut_traces,
        SUM(bailout_LazyBailOut_count) AS bailout_LazyBailOut_sum,
        SUM(bailout_LazyBailOut_count_cap) AS bailout_LazyBailOut_cap_sum,
        SUM(bailout_BailOutOnFailedHoistedLoopCountBasedBoundCheck_present ? 1 : 0) AS bailout_BailOutOnFailedHoistedLoopCountBasedBoundCheck_traces,
        SUM(bailout_BailOutOnFailedHoistedLoopCountBasedBoundCheck_count) AS bailout_BailOutOnFailedHoistedLoopCountBasedBoundCheck_sum,
        SUM(bailout_BailOutOnFailedHoistedLoopCountBasedBoundCheck_count_cap) AS bailout_BailOutOnFailedHoistedLoopCountBasedBoundCheck_cap_sum,
        SUM(bailout_BailOutForGeneratorYield_present ? 1 : 0) AS bailout_BailOutForGeneratorYield_traces,
        SUM(bailout_BailOutForGeneratorYield_count) AS bailout_BailOutForGeneratorYield_sum,
        SUM(bailout_BailOutForGeneratorYield_count_cap) AS bailout_BailOutForGeneratorYield_cap_sum,
        SUM(bailout_BailOutOnException_present ? 1 : 0) AS bailout_BailOutOnException_traces,
        SUM(bailout_BailOutOnException_count) AS bailout_BailOutOnException_sum,
        SUM(bailout_BailOutOnException_count_cap) AS bailout_BailOutOnException_cap_sum,
        SUM(bailout_BailOutOnEarlyExit_present ? 1 : 0) AS bailout_BailOutOnEarlyExit_traces,
        SUM(bailout_BailOutOnEarlyExit_count) AS bailout_BailOutOnEarlyExit_sum,
        SUM(bailout_BailOutOnEarlyExit_count_cap) AS bailout_BailOutOnEarlyExit_cap_sum,
        SUM(bailout_BailOutSimd128F4Only_present ? 1 : 0) AS bailout_BailOutSimd128F4Only_traces,
        SUM(bailout_BailOutSimd128F4Only_count) AS bailout_BailOutSimd128F4Only_sum,
        SUM(bailout_BailOutSimd128F4Only_count_cap) AS bailout_BailOutSimd128F4Only_cap_sum,
        SUM(bailout_BailOutSimd128I4Only_present ? 1 : 0) AS bailout_BailOutSimd128I4Only_traces,
        SUM(bailout_BailOutSimd128I4Only_count) AS bailout_BailOutSimd128I4Only_sum,
        SUM(bailout_BailOutSimd128I4Only_count_cap) AS bailout_BailOutSimd128I4Only_cap_sum,
        SUM(bailout_BailOutSimd128I8Only_present ? 1 : 0) AS bailout_BailOutSimd128I8Only_traces,
        SUM(bailout_BailOutSimd128I8Only_count) AS bailout_BailOutSimd128I8Only_sum,
        SUM(bailout_BailOutSimd128I8Only_count_cap) AS bailout_BailOutSimd128I8Only_cap_sum,
        SUM(bailout_BailOutSimd128I16Only_present ? 1 : 0) AS bailout_BailOutSimd128I16Only_traces,
        SUM(bailout_BailOutSimd128I16Only_count) AS bailout_BailOutSimd128I16Only_sum,
        SUM(bailout_BailOutSimd128I16Only_count_cap) AS bailout_BailOutSimd128I16Only_cap_sum,
        SUM(bailout_BailOutSimd128U4Only_present ? 1 : 0) AS bailout_BailOutSimd128U4Only_traces,
        SUM(bailout_BailOutSimd128U4Only_count) AS bailout_BailOutSimd128U4Only_sum,
        SUM(bailout_BailOutSimd128U4Only_count_cap) AS bailout_BailOutSimd128U4Only_cap_sum,
        SUM(bailout_BailOutSimd128U8Only_present ? 1 : 0) AS bailout_BailOutSimd128U8Only_traces,
        SUM(bailout_BailOutSimd128U8Only_count) AS bailout_BailOutSimd128U8Only_sum,
        SUM(bailout_BailOutSimd128U8Only_count_cap) AS bailout_BailOutSimd128U8Only_cap_sum,
        SUM(bailout_BailOutSimd128U16Only_present ? 1 : 0) AS bailout_BailOutSimd128U16Only_traces,
        SUM(bailout_BailOutSimd128U16Only_count) AS bailout_BailOutSimd128U16Only_sum,
        SUM(bailout_BailOutSimd128U16Only_count_cap) AS bailout_BailOutSimd128U16Only_cap_sum,
        SUM(bailout_BailOutSimd128B4Only_present ? 1 : 0) AS bailout_BailOutSimd128B4Only_traces,
        SUM(bailout_BailOutSimd128B4Only_count) AS bailout_BailOutSimd128B4Only_sum,
        SUM(bailout_BailOutSimd128B4Only_count_cap) AS bailout_BailOutSimd128B4Only_cap_sum,
        SUM(bailout_BailOutSimd128B8Only_present ? 1 : 0) AS bailout_BailOutSimd128B8Only_traces,
        SUM(bailout_BailOutSimd128B8Only_count) AS bailout_BailOutSimd128B8Only_sum,
        SUM(bailout_BailOutSimd128B8Only_count_cap) AS bailout_BailOutSimd128B8Only_cap_sum,
        SUM(bailout_BailOutSimd128B16Only_present ? 1 : 0) AS bailout_BailOutSimd128B16Only_traces,
        SUM(bailout_BailOutSimd128B16Only_count) AS bailout_BailOutSimd128B16Only_sum,
        SUM(bailout_BailOutSimd128B16Only_count_cap) AS bailout_BailOutSimd128B16Only_cap_sum,
        SUM(bailout_BailOutSimd128D2Only_present ? 1 : 0) AS bailout_BailOutSimd128D2Only_traces,
        SUM(bailout_BailOutSimd128D2Only_count) AS bailout_BailOutSimd128D2Only_sum,
        SUM(bailout_BailOutSimd128D2Only_count_cap) AS bailout_BailOutSimd128D2Only_cap_sum,
        SUM(bailout_BailOutNoSimdTypeSpec_present ? 1 : 0) AS bailout_BailOutNoSimdTypeSpec_traces,
        SUM(bailout_BailOutNoSimdTypeSpec_count) AS bailout_BailOutNoSimdTypeSpec_sum,
        SUM(bailout_BailOutNoSimdTypeSpec_count_cap) AS bailout_BailOutNoSimdTypeSpec_cap_sum,
        SUM(bailout_BailOutKindEnd_present ? 1 : 0) AS bailout_BailOutKindEnd_traces,
        SUM(bailout_BailOutKindEnd_count) AS bailout_BailOutKindEnd_sum,
        SUM(bailout_BailOutKindEnd_count_cap) AS bailout_BailOutKindEnd_cap_sum,
        SUM(bailout_BailOutKindBitsStart_present ? 1 : 0) AS bailout_BailOutKindBitsStart_traces,
        SUM(bailout_BailOutKindBitsStart_count) AS bailout_BailOutKindBitsStart_sum,
        SUM(bailout_BailOutKindBitsStart_count_cap) AS bailout_BailOutKindBitsStart_cap_sum
    FROM ReferencedData
    GROUP BY Domain,
             ApplicationName,
             OSArchitecture;



/*
 * Remove low-count entries - reduces risk of PII disclosure, as well as reduces noise
 */
NarrowedData =
    SELECT *
    FROM AggregateData
    WHERE numpoints > 3;

// Write to the output file
OUTPUT NarrowedData TO SSTREAM @outputFileName WITH STREAMEXPIRY "365";
