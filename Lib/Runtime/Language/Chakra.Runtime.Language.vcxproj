<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <ChakraBuildConfigDir>..\..\..\Build</ChakraBuildConfigDir>
  </PropertyGroup>
  <Import Project="$(ChakraBuildConfigDir)\Chakra.Build.ProjectConfiguration.props" />
  <PropertyGroup Label="Globals">
    <TargetName>Chakra.Runtime.Language</TargetName>
    <ProjectGuid>{706083F7-6AA4-4558-A153-6352EF9110F8}</ProjectGuid>
    <RootNamespace>JS</RootNamespace>
    <Keyword>Win32Proj</Keyword>
  </PropertyGroup>
  <Import Project="$(ChakraBuildConfigDir)\Chakra.Build.Default.props" />
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Label="Configuration">
    <ConfigurationType>StaticLibrary</ConfigurationType>    
  </PropertyGroup>    
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <ImportGroup Label="ExtensionSettings">
    <Import Project="$(VCTargetsPath)\BuildCustomizations\masm.props" />
    <Import Project="$(ChakraBuildConfigDir)\armasm.props" />
  </ImportGroup>
  <Import Project="$(ChakraBuildConfigDir)\Chakra.Build.props" />
  <ImportGroup Label="PropertySheets">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
  </ImportGroup>  
  <PropertyGroup Label="UserMacros" />
  <PropertyGroup>
    <_ProjectFileVersion>10.0.30319.1</_ProjectFileVersion>    
  </PropertyGroup>
  <ItemDefinitionGroup>
    <ClCompile>
      <AdditionalIncludeDirectories>$(MSBuildThisFileDirectory)..;$(MSBuildThisFileDirectory)..\..\Common;$(MSBuildThisFileDirectory)..\..\Parser;$(MSBuildThisFileDirectory)..\..\Backend;$(ChakraManifestsIncludeDirectory);$(ManifestsInboxIncludeDirectory);%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
      <DisableSpecificWarnings>%(DisableSpecificWarnings);4702</DisableSpecificWarnings>
      <PrecompiledHeader>Use</PrecompiledHeader>        
    </ClCompile>
  </ItemDefinitionGroup>
  <ItemGroup>
    <ClCompile Include="$(MSBuildThisFileDirectory)i386\stackframe.cpp">
      <ExcludedFromBuild Condition="'$(Platform)'!='Win32'">true</ExcludedFromBuild>
      <ObjectFileName Condition="'$(Platform)'!='Win32'">$(IntDir)\i386</ObjectFileName>
    </ClCompile>
    <ClCompile Include="$(MSBuildThisFileDirectory)amd64\stackframe.cpp">
      <ExcludedFromBuild Condition="'$(Platform)'!='x64'">true</ExcludedFromBuild>
      <ObjectFileName Condition="'$(Platform)'!='x64'">$(IntDir)\amd64</ObjectFileName>
    </ClCompile>
    <ClCompile Include="$(MSBuildThisFileDirectory)arm\stackframe.cpp">
      <ExcludedFromBuild Condition="'$(Platform)'!='ARM'">true</ExcludedFromBuild>
      <ObjectFileName Condition="'$(Platform)'!='ARM'">$(IntDir)\arm</ObjectFileName>
    </ClCompile>
    <ClCompile Include="$(MSBuildThisFileDirectory)arm64\stackframe.cpp">
      <ExcludedFromBuild Condition="'$(Platform)'!='Arm64'">true</ExcludedFromBuild>
      <ObjectFileName Condition="'$(Platform)'!='Arm64'">$(IntDir)\arm64</ObjectFileName>
    </ClCompile>
    <ClCompile Include="$(MSBuildThisFileDirectory)i386\AsmJSJitTemplate.cpp">
      <ExcludedFromBuild Condition="'$(Platform)'!='Win32'">true</ExcludedFromBuild>
      <ObjectFileName Condition="'$(Platform)'!='Win32'">$(IntDir)\i386</ObjectFileName>
    </ClCompile>
    <ClCompile Include="$(MSBuildThisFileDirectory)amd64\AsmJSJitTemplate.cpp">
      <ExcludedFromBuild Condition="'$(Platform)'!='x64'">true</ExcludedFromBuild>
      <ObjectFileName Condition="'$(Platform)'!='x64'">$(IntDir)\amd64</ObjectFileName>
    </ClCompile>
    <ClCompile Include="$(MSBuildThisFileDirectory)AsmJSCodeGenerator.cpp">
      <ExcludedFromBuild Condition="'$(Platform)'!='Win32' AND '$(Platform)'!='x64'">true</ExcludedFromBuild>
    </ClCompile>
    <ClCompile Include="$(MSBuildThisFileDirectory)AsmJSEncoder.cpp">
      <ExcludedFromBuild Condition="'$(Platform)'!='Win32' AND '$(Platform)'!='x64'">true</ExcludedFromBuild>
    </ClCompile>
    <ClCompile Include="$(MSBuildThisFileDirectory)AsmJS.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)AsmJSBytecodeGenerator.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)AsmJSLink.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)AsmJSModule.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)AsmJSTypes.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)AsmJSUtils.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)ByteCodeSerializer.cpp">      
      <AdditionalIncludeDirectories Condition="'$(FreeBuild)'=='true'">$(PublicInternalPath)\base\inc;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
    </ClCompile>
    <ClCompile Include="$(MSBuildThisFileDirectory)CacheOperators.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)CallInfo.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)CodeGenRecyclableData.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)DynamicProfileInfo.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)DynamicProfileMutator.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)DynamicProfileStorage.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)ExecutionMode.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)FunctionCodeGenJitTimeData.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)FunctionCodeGenRuntimeData.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)InlineCache.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)JavascriptExceptionOperators.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)JavascriptMathOperators.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)MutationBreakpoint.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)ProfilingHelpers.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)PropertyRecord.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)ReadOnlyDynamicProfileInfo.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)SourceContextInfo.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)SourceDynamicProfileManager.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)SourceHolder.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)StackTraceArguments.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)Utf8SourceInfo.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)ValueType.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)ScriptContextOptimizationOverrideInfo.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)diagobjectmodel.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)DiagProbe.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)ProbeContainer.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)DiagHelperMethodWrapper.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)DiagStackFrame.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)InterpreterStackFrame.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)JavascriptConversion.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)JavascriptOperators.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)JavascriptStackWalker.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)ScriptContext.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)ScriptContextProfiler.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)SourceMutator.cpp" />
    <ClCompile Include="$(MSBuildThisFileDirectory)..\StdAfx.cpp">
      <PrecompiledHeader>Create</PrecompiledHeader>    
    </ClCompile>
  </ItemGroup>
  <ItemGroup>
    <ClInclude Include="amd64\stackframe.h">
      <ExcludedFromBuild Condition="'$(Platform)'!='x64'">true</ExcludedFromBuild>      
    </ClInclude>
    <ClInclude Include="arm\stackframe.h">
      <ExcludedFromBuild Condition="'$(Platform)'!='ARM'">true</ExcludedFromBuild>
    </ClInclude>
    <ClInclude Include="AsmJS.h" />
    <ClInclude Include="AsmJSBytecodeGenerator.h" />
    <ClInclude Include="AsmJSCodeGenerator.h" />
    <ClInclude Include="AsmJSEncoder.h">
      <ExcludedFromBuild Condition="'$(Platform)'!='Win32' AND '$(Platform)'!='x64'">true</ExcludedFromBuild>
    </ClInclude>
    <ClInclude Include="AsmJSJitTemplate.h" />
    <ClInclude Include="AsmJSLink.h" />
    <ClInclude Include="AsmJSModule.h" />
    <ClInclude Include="AsmJSUtils.h" />
    <ClInclude Include="byteCodeCacheReleaseFileVersion.h" />
    <ClInclude Include="CacheOperators.h" />
    <ClInclude Include="i386\AsmJsInstructionTemplate.h">
      <ExcludedFromBuild Condition="'$(Platform)'!='Win32'">true</ExcludedFromBuild>
    </ClInclude>
    <ClInclude Include="InterpreterProcessOpCodeAsmJs.h" />
    <ClInclude Include="CodeGenRecyclableData.h" />
    <ClInclude Include="DynamicProfileInfo.h" />
    <ClInclude Include="DynamicProfileMutator.h" />
    <ClInclude Include="DynamicProfileStorage.h" />
    <ClInclude Include="EvalMapRecord.h" />
    <ClInclude Include="ExecutionMode.h" />
    <ClInclude Include="ExecutionModes.h" />
    <ClInclude Include="FunctionCodeGenJitTimeData.h" />
    <ClInclude Include="FunctionCodeGenRuntimeData.h" />
    <ClInclude Include="i386\stackframe.h">
      <ExcludedFromBuild Condition="'$(Platform)'!='Win32'">true</ExcludedFromBuild>
    </ClInclude>
    <ClInclude Include="InlineCache.h" />
    <ClInclude Include="InlineCachePointerArray.h" />
    <ClInclude Include="JavascriptExceptionOperators.h" />
    <ClInclude Include="JavascriptMathOperators.h" />
    <ClInclude Include="LeaveScriptObject.h" />
    <ClInclude Include="MutationBreakpoint.h" />
    <ClInclude Include="ProfilingHelpers.h" />
    <ClInclude Include="PropertyRecord.h" />
    <ClInclude Include="ReadOnlyDynamicProfileInfo.h" />
    <ClInclude Include="SourceContextInfo.h" />
    <ClInclude Include="SourceDynamicProfileManager.h" />
    <ClInclude Include="SourceHolder.h" />
    <ClInclude Include="StackTraceArguments.h" />
    <ClInclude Include="Utf8SourceInfo.h" />
    <ClInclude Include="ValueType.h" />
    <ClInclude Include="ScriptContextOptimizationOverrideInfo.h" />
    <ClInclude Include="Arguments.h" />
    <ClInclude Include="CallInfo.h" />
    <ClInclude Include="diagobjectmodel.h" />
    <ClInclude Include="DiagProbe.h" />
    <ClInclude Include="ProbeContainer.h" />
    <ClInclude Include="DiagHelperMethodWrapper.h" />
    <ClInclude Include="DiagStackFrame.h" />
    <ClInclude Include="InterpreterStackFrame.h" />
    <ClInclude Include="JavascriptConversion.h" />
    <ClInclude Include="JavascriptOperators.h" />
    <ClInclude Include="JavascriptFunctionArgIndex.h" />
    <ClInclude Include="JavascriptStackWalker.h" />
    <ClInclude Include="ScriptContext.h" />
    <ClInclude Include="ScriptContextProfiler.h" />
    <ClInclude Include="SourceMutator.h" />
  </ItemGroup>
  <ItemGroup>
    <MASM Include="$(MSBuildThisFileDirectory)amd64\JavascriptOperatorsA.asm">
      <ExcludedFromBuild Condition="'$(Platform)'!='x64'">true</ExcludedFromBuild>
    </MASM>
    <MASM Include="$(MSBuildThisFileDirectory)amd64\amd64_Thunks.asm">
      <ExcludedFromBuild Condition="'$(Platform)'!='x64'">true</ExcludedFromBuild>
    </MASM>
    <ARMASM Include="$(MSBuildThisFileDirectory)arm\arm_Thunks.asm">
      <ExcludedFromBuild Condition="'$(Platform)'!='ARM'">true</ExcludedFromBuild>
    </ARMASM>
    <ARMASM Include="$(MSBuildThisFileDirectory)arm\arm_CallEhFrame.asm">
      <ExcludedFromBuild Condition="'$(Platform)'!='ARM'">true</ExcludedFromBuild>
    </ARMASM>
    <ARMASM Include="$(MSBuildThisFileDirectory)arm64\arm64_Thunks.asm">
      <ExcludedFromBuild Condition="'$(Platform)'!='Arm64'">true</ExcludedFromBuild>
    </ARMASM>
    <ARMASM Include="$(MSBuildThisFileDirectory)arm64\arm64_CallEhFrame.asm">
      <ExcludedFromBuild Condition="'$(Platform)'!='Arm64'">true</ExcludedFromBuild>
    </ARMASM>
    <None Include="amd64\stackframe.inl" />
    <None Include="AsmJSEncoder.inl" />
    <None Include="AsmJSEncoderHandler.inl" />
    <None Include="CacheOperators.inl" />
    <None Include="i386\AsmJsInstructionTemplate.inl" />
    <None Include="InlineCache.inl" />
    <None Include="InlineCachePointerArray.inl" />
    <None Include="InterpreterHandler.inl" />
    <None Include="InterpreterHandlerAsmJs.inl" />
    <None Include="InterpreterLoop.inl" />    
    <None Include="JavascriptExceptionOperators.inl" />
    <None Include="JavascriptMathOperators.inl" />
    <None Include="JavascriptObject.inl" />    
    <None Include="InterpreterStackFrame.inl" />
    <None Include="JavascriptConversion.inl" />
    <None Include="JavascriptOperators.inl" />    
    <None Include="ScriptContext.inl" />   
    <None Include="DiagHelperMethodWrapper.inl" />
  </ItemGroup>
  <!-- In Razzle build, we are still rely on the publish directory -->
  <ItemGroup Condition="'$(BuildingWithBuildExe)'!='true'" >
    <Midl Include="$(MSBuildThisFileDirectory)..\publish\MutatorsHost.idl" />
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="..\..\..\publish\Publish.vcxproj">
      <Project>{1876e800-ad77-48c4-a2f7-e5265f24ac35}</Project>
    </ProjectReference>
  </ItemGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
  <ImportGroup Label="ExtensionTargets">
    <Import Project="$(VCTargetsPath)\BuildCustomizations\masm.targets" />
    <Import Project="$(ChakraBuildConfigDir)\armasm.targets" />
  </ImportGroup>
</Project>
