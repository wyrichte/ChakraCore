<?xml version="1.0" encoding="utf-8"?>
<Project DefaultTargets="Build" ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <ChakraBuildConfigDir>..\..\Build</ChakraBuildConfigDir>
  </PropertyGroup>
  <Import Project="$(ChakraBuildConfigDir)\Chakra.Build.ProjectConfiguration.props" />
  <PropertyGroup Label="Globals">
    <ProjectName>ChakraDiag</ProjectName>
    <ProjectGuid>{D81EF7CF-1D44-46B5-843E-4C0F1626A1E2}</ProjectGuid>
    <RootNamespace>Js</RootNamespace>
    <Keyword>Win32Proj</Keyword>
  </PropertyGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.Default.props" />
  <PropertyGroup Label="Configuration">
    <ConfigurationType>DynamicLibrary</ConfigurationType>
    <UseOfATL>static</UseOfATL>
  </PropertyGroup>
  <Import Project="$(ChakraBuildConfigDir)\Chakra.Build.Default.props" />
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.props" />
  <Import Project="$(ChakraBuildConfigDir)\Chakra.Build.props" />
  <ImportGroup Label="PropertySheets">
    <Import Project="$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props" Condition="exists('$(UserRootDir)\Microsoft.Cpp.$(Platform).user.props')" Label="LocalAppDataPlatform" />
  </ImportGroup>
  <PropertyGroup Label="UserMacros" />
  <PropertyGroup>
    <_ProjectFileVersion>10.0.30319.1</_ProjectFileVersion>
    <IncludePath>$(PUBLIC_ROOT)\internal\sdktools\inc;$(PUBLIC_ROOT)\internal\com\inc;$(PUBLIC_ROOT)\internal\com\inc\winrt;$(PUBLIC_ROOT)\internal\com\inc\midlrt;$(PUBLIC_ROOT)\sdk\inc;$(PUBLIC_ROOT)\..\public\sdk\inc;$(OBJECT_ROOT)\inetcore\published\internal\inc\obj$(RazzleConfigurationPath)\$(PlatformPathNameAlt);$(OBJECT_ROOT)\inetcore\jscript\publish\obj$(RazzleConfigurationPath)\$(PlatformPathNameAlt);$(IntDir)\..\publish;..\jscript;..\..\lib\common;..\..\lib\common\memory;..\..\lib\common\DataStructures;..\..\lib\runtime;..\..\lib\runtime\library;..\..\lib\runtime\language;..\..\lib\runtime\types;..\..\lib\runtime\bytecode;..\..\lib\backend;$(IncludePath)</IncludePath>
    <LibraryPath>$(PUBLIC_ROOT)\internal\inetcore\lib\$(PlatformPathNameAlt);$(PUBLIC_ROOT)\internal\mincore\priv_sdk\lib\$(PlatformPathNameAlt);$(PUBLIC_ROOT)\internal\sdk\lib\$(PlatformPathNameAlt);$(LibraryPath)</LibraryPath>
    <TargetName>ChakraDiag</TargetName>
    <TargetName Condition="'$(Configuration)'=='fretest'">ChakraDiagTest</TargetName>
  </PropertyGroup>
  <ItemDefinitionGroup>
    <ClCompile>
      <AdditionalIncludeDirectories>.;..;..\..\Lib\Common;..\..\Lib\Parser;..\..\Lib\Runtime;..\..\Lib\Backend;$(IntDir);$(IntDir)..\Common;$(IntDir)..\Publish;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
      <PreprocessorDefinitions>ENABLE_TEST_HOOKS=1;__PLACEMENT_NEW_INLINE;_USRDLL;%(PreprocessorDefinitions)</PreprocessorDefinitions>
      <!-- 
        4189: local variable is initialized but not referenced
        4290: C++ exception specification ignored except to indicate a function is not __declspec(nothrow) 
        -->
      <DisableSpecificWarnings>%(DisableSpecificWarnings);4189;4290</DisableSpecificWarnings>
      <PrecompiledHeader>Use</PrecompiledHeader>
    </ClCompile>
    <Link>
      <AdditionalDependencies>$(OutDir);version.lib;ntdll.lib;nothrownew.lib;%(AdditionalDependencies)</AdditionalDependencies>
      <SubSystem>Console</SubSystem>
      <OutputFile>$(OutDir)$(TargetName).dll</OutputFile>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(USE_EXTERNAL_DEPENDENCIES)'=='yes'">
    <Link>
      <AdditionalLibraryDirectories>$(OBJECT_ROOT)\inetcore\lib\codex\iel1\obj$(RazzleConfigurationPath)\$(PlatformPathNameAlt);$(OBJECT_ROOT)\inetcore\lib\devtb\dtbhost\obj$(RazzleConfigurationPath)\$(PlatformPathNameAlt);$(OBJECT_ROOT)\inetcore\lib\common\iel1\obj$(RazzleConfigurationPath)\$(PlatformPathNameAlt);%(AdditionalLibraryDirectories)</AdditionalLibraryDirectories>
      <AdditionalDependencies>ieshare_codex_iel1.lib;ieshare_iedevtools_host.lib;ieshare_common_iel1.lib;%(AdditionalDependencies)</AdditionalDependencies>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(FreeBuild)'!='true'">
    <Link>
      <ModuleDefinitionFile>Jscript9DiagTest.def</ModuleDefinitionFile>
      <IgnoreSpecificDefaultLibraries>%(IgnoreSpecificDefaultLibraries);msvcrtcf.lib;msvcprtd.lib</IgnoreSpecificDefaultLibraries>
    </Link>
  </ItemDefinitionGroup>
  <ItemDefinitionGroup Condition="'$(FreeBuild)'=='true'">
    <ClCompile>     
      <EnableEnhancedInstructionSet>StreamingSIMDExtensions2</EnableEnhancedInstructionSet>
    </ClCompile>
    <Link>        
      <ModuleDefinitionFile>Jscript9Diag.def</ModuleDefinitionFile>
    </Link>
  </ItemDefinitionGroup> 
  <ItemGroup>
    <ClCompile Include="expression.cpp" />
    <ClCompile Include="guids.c">
      <PrecompiledHeader>NotUsing</PrecompiledHeader>
    </ClCompile>
    <ClCompile Include="Inspection.cpp" />
    <ClCompile Include="jsdebug.cpp" />
    <ClCompile Include="JsDebugBreakPoint.cpp" />
    <ClCompile Include="jsdebugProcess.cpp" />
    <ClCompile Include="jsdebugStackWalker.cpp" />
    <ClCompile Include="RemoteAllocator.cpp" />
    <ClCompile Include="RemoteStackFrameLocals.cpp" />
    <ClCompile Include="RemoteString.cpp" />
    <ClCompile Include="RemoteTypeHandler.cpp" />
    <ClCompile Include="ScriptDump.cpp" />
    <ClCompile Include="ScriptDumpReader.cpp" />
    <ClCompile Include="stdafx.cpp">
      <PrecompiledHeader>Create</PrecompiledHeader>
    </ClCompile>
    <ClCompile Include="dllfunc.cpp" />
    <ClCompile Include="DAC.cpp" />
    <ClCompile Include="DebugClient.cpp" />
    <ClCompile Include="DiagProvider.cpp" />
    <ClCompile Include="InternalStackFrame.cpp" />
    <ClCompile Include="RemoteStackFrameEnumerator.cpp" />
    <ClCompile Include="RemoteStackWalker.cpp" />
    <ClCompile Include="RemoteInlineFrameWalker.cpp" />
    <ClCompile Include="RemoteStackFrame.cpp" />
    <ClCompile Include="RemoteDiagFrame.cpp" />
    <ClCompile Include="ScriptState.cpp" />
    <ClCompile Include="Serializer.cpp" />
    <ClCompile Include="thrownew.cpp" />
    <ClCompile Include="VirtualReader.cpp" />
    <ClInclude Include="DiagErrorCode.h" />
    <ClInclude Include="expression.h" />
    <ClInclude Include="jscript9diagprivate.h" />
    <ClInclude Include="MockDataTarget.h" />
    <ClInclude Include="thrownew.h" />
    <ClInclude Include="werdump.h" />
  </ItemGroup>
  <ItemGroup>
    <ClInclude Include="DiagAutoPtr.h" />
    <ClInclude Include="DiagConstants.h" />
    <ClInclude Include="DiagException.h" />
    <ClInclude Include="Inspection.h" />
    <ClInclude Include="InternalStackFrame.h" />
    <ClInclude Include="JsDebugBreakPoint.h" />
    <ClInclude Include="JsDebugProperty.h" />
    <ClInclude Include="jsdiag.h" />
    <ClInclude Include="RemoteEnumerator.h" />
    <ClInclude Include="RemoteAllocator.h" />
    <ClInclude Include="RemoteStackFrameLocals.h" />
    <ClInclude Include="RemoteString.h" />
    <ClInclude Include="RemoteTypeHandler.h" />
    <ClInclude Include="RuntimeCore.h" />
    <ClInclude Include="guids.h" />
    <Midl Include="..\..\..\published\sdk\inc\jscript9diag.idl">
      <OutputDirectory>$(IntDir)</OutputDirectory>
      <HeaderFileName>%(Filename).h</HeaderFileName>
      <DefaultCharType>Unsigned</DefaultCharType>
    </Midl>
    <ClInclude Include="jsdebug.h" />
    <ClInclude Include="jsdebugProcess.h" />
    <ClInclude Include="jsdebugStackWalker.h" />
    <ClInclude Include="ScriptDump.h" />
    <ClInclude Include="ScriptDumpReader.h" />
    <ClInclude Include="stdafx.h" />
    <ClInclude Include="dllfunc.h" />
    <ClInclude Include="DAC.h" />
    <ClInclude Include="RemoteBuffer.h" />
    <ClInclude Include="RemoteBuffer.inl" />
    <ClInclude Include="DebugClient.h" />
    <ClInclude Include="DiagProvider.h" />
    <ClInclude Include="RemoteDiagFrame.h" />
    <ClInclude Include="RemoteStackFrame.h" />
    <ClInclude Include="RemoteStackFrameEnumerator.h" />
    <ClInclude Include="RemoteStackWalker.h" />
    <ClInclude Include="RemoteInlineFrameWalker.h" />
    <ClInclude Include="ScriptState.h" />
    <ClInclude Include="Serializer.h" />
    <ClInclude Include="Serializer.inl" />
    <ClInclude Include="DiagAssertion.h" />
    <ClInclude Include="VirtualReader.h" />
  </ItemGroup>
  <ItemGroup>
    <ResourceCompile Include="jscript9diag.rc">
      <AdditionalIncludeDirectories>%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
      <AdditionalIncludeDirectories Condition="'$(USE_EXTERNAL_DEPENDENCIES)'!='yes'">$(IntDir)..\manifests-inbox;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
      <AdditionalIncludeDirectories Condition="'$(USE_EXTERNAL_DEPENDENCIES)'=='yes'">$(OBJECT_ROOT)\inetcore\manifests\inbox\obj$(RazzleConfigurationPath)\$(PlatformPathNameAlt);%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
    </ResourceCompile>
  </ItemGroup>
  <ItemGroup>
    <None Include="JsDebug.rgs" />
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="..\..\dep\codex.vcxproj">
      <Project>{1876e800-ad77-48c4-a2f7-e5265f24ac38}</Project>
    </ProjectReference>
    <ProjectReference Condition="'$(USE_EXTERNAL_DEPENDENCIES)'!='yes'" Include="..\..\dep\common-iel1.vcxproj">
      <Project>{14bbb4b1-da6a-4c69-bf07-f8d4865e0814}</Project>
    </ProjectReference>
    <ProjectReference Include="..\..\dep\IESettingsApi.vcxproj">
      <Project>{14bbb4b1-da6a-4c69-bf07-f8d4865f08f4}</Project>
    </ProjectReference>
    <ProjectReference Include="..\..\publish\Publish.vcxproj">
      <Project>{1876e800-ad77-48c4-a2f7-e5265f24ac35}</Project>
    </ProjectReference>
  </ItemGroup>
  <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
</Project>